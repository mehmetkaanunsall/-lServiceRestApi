<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">


    <c:set var="itemId" value="3" scope="request" />
    <c:set var="btnCategoryBtnParent" value="#{87}" scope="request" />
    <c:set var="btnCategoryBtnChild" value="#{88}" scope="request" />
    <c:set var="btnCategoryBtnEdit" value="#{89}" scope="request" />
    <c:set var="btnCategoryBtnDelete" value="#{90}" scope="request" />
    <c:set var="btnCategoryBtnAddToItem" value="#{257}" scope="request" />

    <ui:include src="/pages/general/common/category.xhtml" >
        <ui:param name="outputText" value="#{loc.accountcategories}"/>
        <ui:param name="addItemText" value="#{loc.addtoaccount}"/>
        <ui:param name="btnCategoryBtnParent" value="#{categoryBean.getRendered(87, 0)}" />
        <ui:param name="btnCategoryBtnChild" value="#{categoryBean.getRendered(88, 0)}"  />
        <ui:param name="btnCategoryBtnEdit" value="#{categoryBean.getRendered(89, 0)}"  />
        <ui:param name="btnCategoryBtnDelete" value="#{categoryBean.getRendered(90, 0)}" />
        <ui:param name="btnCategoryBtnAddToItem" value="#{categoryBean.getRendered(257, 0)}" />
    </ui:include>

    <p:dialog id="dlgAddToItem" widgetVar="dlg_addtoitem" position="center top" style="margin-top: 10% !important" width="20%" dynamic="true" modal="true" resizable="false" responsive="true" closeOnEscape="true" >
        <h:form id="frmAddToItem">
            <ui:include src="/pages/general/common/processtoolbar.xhtml">
                <ui:param name="outputtext" value="#{loc.addtoaccount}"/>
                <ui:param name="bean" value='#{categoryBean}'/>
                <ui:param name="update" value="txtItem"/>
                <ui:param name="btnSaveId" value="true"/>
            </ui:include>
            <h:panelGroup layout="block">
                <div class="ui-g divContent">
                    <div class="ui-g-12 ui-md-12 ui-lg-12">
                        <p:outputLabel value="#{loc.categoryname}" class="FontBold Fs12" for="txtCategoryName"/>
                        <p:inputText id="txtCategoryName" value="#{categoryBean.selectedData.name}" required="true" readonly="true" class="Wid95"/>
                    </div>
                    <div class="ui-g-12 ui-md-12 ui-lg-12">
                        <p:outputLabel value="#{loc.current}" for="txtItem"  styleClass="Fs12 FontBold"/>
                        <p:inputText  id="txtItem" onclick="showAccountBook()" value="#{accountBookCheckboxFilterBean.selectedCount}" class="inputPositionForBookFilter" readonly="#{facesContext.currentPhaseId.ordinal ge 4}" placeholder="#{loc.all}">   
                        </p:inputText>
                        <p:commandLink id="btnItem" process="@this" actionListener="#{categoryBean.openDialog()}" class="commandLinkPositionForBookFilter" oncomplete="PF('olp_accountcheckbox').loadContents();">
                            <i class="fa fa-book Fs16 iconPositionForBookFilter" style="margin-top: -2px;"></i>
                            <p:ajax listener="#{accountBookCheckboxFilterBean.findFilterListLazyLoading([],'frmAccountBookFilterCheckbox','olp_accountcheckbox', 'accountCategoryCheckBox')}" />
                        </p:commandLink>
                    </div>
                </div>

            </h:panelGroup>
            <p:remoteCommand name="showAccountBook" process="@this" update="frmAccountBookFilterCheckbox" oncomplete="PF('olp_accountcheckbox').show();" action="#{accountBookCheckboxFilterBean.findFilterListLazyLoading([],'frmAccountBookFilterCheckbox','olp_accountcheckbox', 'accountCategoryCheckBox')}" />
        </h:form>
    </p:dialog> 

    <ui:include src="/pages/general/common/accountbookcheckbox.xhtml" >
        <ui:param name="updateBean" value='#{categoryBean}' />
        <ui:param name="for" value='frmAddToItem:btnItem' />
        <ui:param name="type" value='accountCategoryCheckBox' />
        <ui:param name="parameters" value='' /> 
        <ui:param name="columnsize" value='2' /> 
        <ui:param name="form" value='frmAccountBookFilterCheckbox' /> 
        <ui:param name="overlay" value="olp_accountcheckbox" />
    </ui:include>

</ui:composition>

