<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:outputScript name="js/d3.min#{sessionBean.user.lastBranch.decimalsymbol == 1 ?'':'-tr' }.js" library="sentinel-layout"  />
    <h:outputScript name="js/nv.d3.min.js" library="sentinel-layout"  />
    <h:outputStylesheet name="css/nv.d3.min.css" library="sentinel-layout" />


    <h:form>
        <p:toolbar>
            <f:facet name="left">
                <h:outputText value="#{loc.removedstockreport}"  class="outputTextFont Fright"  />
            </f:facet>
            <f:facet name="right">

            </f:facet>
        </p:toolbar>

        <h:panelGroup layout="block" transient="true">  
            <div class="ui-g divContent">
                <div class="ui-g-12">
                    <div class="ui-g-12 ui-md-6 ui-lg-2">
                        <p:outputLabel id="textyear" value="#{loc.yearbasis}" styleClass="Fs12 FontBold" />
                        <p:selectOneMenu id="years" value="#{removedStockReportBean.year}" effect="fold" editable="false" >
                            <f:selectItems value="#{removedStockReportBean.yearList}" />
                            <p:ajax update="frmMonthly frmInfoGraphic frmInfo:pgrInfo frmToolbarInfo frmToolbarInfoGraphic" listener="#{removedStockReportBean.changeMonthlyLog()}" />
                        </p:selectOneMenu>
                    </div>
                    <div class="ui-g-12 ui-md-6 ui-lg-2">
                        <p:outputLabel value="#{loc.branch}" for="slcBranch" styleClass="Fs12 FontBold"/>
                        <p:selectCheckboxMenu  id="slcBranch"  value="#{removedStockReportBean.selectedBranchList}" 
                                               filter="true" filterMatchMode="contains" converter="entityConverter" widgetVar="slcBranchCheckBox"  
                                               label="#{removedStockReportBean.selectedBranchList.size()!=0 ? removedStockReportBean.selectedBranchList.size() :loc.all} #{removedStockReportBean.selectedBranchList.size()!=0 ? loc.branch : ''} #{removedStockReportBean.selectedBranchList.size()!=0 ? loc.selected : ''}">
                            <f:selectItems value="#{removedStockReportBean.listOfBranch}" itemLabel="#{branchSetting.branch.name}" itemValue="#{branchSetting}" var="branchSetting" />       
                            <p:ajax oncomplete="PF('slcBranchCheckBox').show()" global="false" listener="#{removedStockReportBean.changeBranch()}" update="slcBranch frmToolbarInfo frmInfo:pgrInfo frmMonthly:dtbRemoveStockMonthly frmToolbarInfoGraphic frmInfoGraphic:pgrInfoGraphic"/>
                            <p:ajax event="toggleSelect" listener="#{removedStockReportBean.changeBranch()}" update="slcBranch frmToolbarInfo frmInfo:pgrInfo frmMonthly:dtbRemoveStockMonthly frmToolbarInfoGraphic frmInfoGraphic:pgrInfoGraphic"  oncomplete="PF('slcBranchCheckBox').show() " global="false"/>
                        </p:selectCheckboxMenu>
                    </div>
                </div>
            </div>
        </h:panelGroup>
    </h:form>
    <div class="EmptyBox10" />
    <h:form id="frmRemovedStock" > 
        <p:toolbar>
            <f:facet name="left">
                <h:outputText id="textyear" value="#{loc.stockremovalonyearbasis}"  class="outputTextFont Fright" style="margin-top: 10px;" />
            </f:facet>
            <f:facet name="right">

            </f:facet>

        </p:toolbar>

    </h:form>


    <h:form id="frmMonthly">
        <h:panelGroup  layout="block" transient="true">
            <div class="ui-g divContent">  
                <div class=" ui-g-12">

                    <div class="ui-g-12 ui-md-12"> 
                        <p:dataTable  id="dtbRemoveStockMonthly" var="removestockmonthly"  value="#{removedStockReportBean.removedStockReportMonthlyList}" selectionMode="single" selection="#{removedStockReportBean.selectedRemovedStockReport}" widgetVar="removestockmonthlyPF"   emptyMessage="#{loc.norecordsfound}"
                                      rows="#{sessionBean.user.defualtGridSize}" rowKey="#{removestockmonthly.id}" paginator="true" paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {CurrentPageReport}"
                                      rowsPerPageTemplate="#{sessionBean.user.gridSize}" paginatorPosition="bottom" currentPageReportTemplate="{startRecord}-{endRecord} #{loc.intotal} {totalRecords}" 
                                      reflow="true">
                            <p:ajax event="page" global="false"/>
                            <p:ajax event="filter" global="false"/>
                            <p:ajax event="rowSelect" listener="#{removedStockReportBean.selectEmploeyee()}" update="frmToolbarInfo  frmInfo:pgrInfo" />  

                            
                            <p:column id="clmBranch" headerText="#{loc.branch}" sortable="true" sortBy="#{removestockmonthly.branch.name}" filterable="true"  filterBy="#{removestockmonthly.branch.name}" filterMatchMode="contains" >
                                <f:facet name="filter">                         
                                    <p:outputLabel   rendered="false" />
                                </f:facet> 
                                <h:outputText value="#{removestockmonthly.branch.name}" />
                            </p:column >
                            <p:column id="clmEmployee" headerText="#{loc.employee}" sortable="true" sortBy="#{removestockmonthly.removedStockReport.userData.fullName}" filterable="true"  filterBy="#{removestockmonthly.removedStockReport.userData.fullName}" filterMatchMode="contains" >
                                <f:facet name="filter">                         
                                    <p:outputLabel   rendered="false" />
                                </f:facet> 
                                <h:outputText value="#{removestockmonthly.removedStockReport.userData.fullName}" />
                            </p:column >

                            <p:column id="clmJanuary" headerText="#{loc.january}" sortable="true" sortBy="#{removestockmonthly.january}" filterable="true"  filterBy="#{removestockmonthly.january}" filterMatchMode="contains" >
                                <f:facet name="filter">
                                    <p:outputLabel   rendered="false" />
                                </f:facet> 
                                <h:outputText value="#{removestockmonthly.january}" class="Fright" />
                            </p:column >

                            <p:column id="clmFebruary" headerText="#{loc.february}" sortable="true" sortBy="#{removestockmonthly.february}" filterable="true"  filterBy="#{removestockmonthly.february}" filterMatchMode="contains" >
                                <f:facet name="filter">
                                    <p:outputLabel   rendered="false" />
                                </f:facet> 
                                <h:outputText value="#{removestockmonthly.february}"  class="Fright" />
                            </p:column >
                            <p:column id="clmMarch" headerText="#{loc.march}" sortable="true" sortBy="#{removestockmonthly.march}" filterable="true"  filterBy="#{removestockmonthly.march}" filterMatchMode="contains" >
                                <f:facet name="filter">
                                    <p:outputLabel   rendered="false" />
                                </f:facet> 
                                <h:outputText value="#{removestockmonthly.march}" class="Fright" />
                            </p:column >
                            <p:column id="clmApril" headerText="#{loc.april}" sortable="true" sortBy="#{removestockmonthly.april}" filterable="true"  filterBy="#{removestockmonthly.april}" filterMatchMode="contains" >
                                <f:facet name="filter">
                                    <p:outputLabel   rendered="false"  />
                                </f:facet> 
                                <h:outputText value="#{removestockmonthly.april}" class="Fright" />
                            </p:column >
                            <p:column id="clmMay" headerText="#{loc.may}" sortable="true" sortBy="#{removestockmonthly.may}" filterable="true"  filterBy="#{removestockmonthly.may}" filterMatchMode="contains" >
                                <f:facet name="filter">
                                    <p:outputLabel   rendered="false" />
                                </f:facet> 
                                <h:outputText value="#{removestockmonthly.may}" class="Fright" />
                            </p:column >
                            <p:column id="clmJun" headerText="#{loc.june}" sortable="true" sortBy="#{removestockmonthly.june}" filterable="true"  filterBy="#{removestockmonthly.june}" filterMatchMode="contains" >
                                <f:facet name="filter">
                                    <p:outputLabel   rendered="false" />
                                </f:facet> 
                                <h:outputText value="#{removestockmonthly.june}" class="Fright" />
                            </p:column >

                            <p:column id="clmJuly" headerText="#{loc.july}" sortable="true" sortBy="#{removestockmonthly.july}" filterable="true"  filterBy="#{removestockmonthly.july}" filterMatchMode="contains" >
                                <f:facet name="filter">
                                    <p:outputLabel   rendered="false" />
                                </f:facet> 
                                <h:outputText value="#{removestockmonthly.july}" class="Fright" />
                            </p:column >

                            <p:column id="clmAugust" headerText="#{loc.august}" sortable="true" sortBy="#{removestockmonthly.august}" filterable="true"  filterBy="#{removestockmonthly.august}" filterMatchMode="contains" >
                                <f:facet name="filter">
                                    <p:outputLabel   rendered="false" />
                                </f:facet> 
                                <h:outputText value="#{removestockmonthly.august}" class="Fright" />
                            </p:column >
                            <p:column id="clmSeptember" headerText="#{loc.september}" sortable="true" sortBy="#{removestockmonthly.september}" filterable="true"  filterBy="#{removestockmonthly.september}" filterMatchMode="contains" >
                                <f:facet name="filter">
                                    <p:outputLabel   rendered="false" />
                                </f:facet> 
                                <h:outputText value="#{removestockmonthly.september}" class="Fright" />
                            </p:column >

                            <p:column id="clmOctober" headerText="#{loc.october}" sortable="true" sortBy="#{removestockmonthly.october}" filterable="true"  filterBy="#{removestockmonthly.october}" filterMatchMode="contains" >
                                <f:facet name="filter">
                                    <p:outputLabel   rendered="false" />
                                </f:facet> 
                                <h:outputText value="#{removestockmonthly.october}" class="Fright" />
                            </p:column >
                            <p:column id="clmNovember" headerText="#{loc.november}" sortable="true" sortBy="#{removestockmonthly.november}" filterable="true"  filterBy="#{removestockmonthly.november}" filterMatchMode="contains" >
                                <f:facet name="filter">
                                    <p:outputLabel   rendered="false" />
                                </f:facet> 
                                <h:outputText value="#{removestockmonthly.november}" class="Fright" />
                            </p:column >
                            <p:column id="clmDecember" headerText="#{loc.december}" sortable="true" sortBy="#{removestockmonthly.december}" filterable="true"  filterBy="#{removestockmonthly.december}" filterMatchMode="contains" >
                                <f:facet name="filter">
                                    <p:outputLabel   rendered="false" />
                                </f:facet> 
                                <h:outputText value="#{removestockmonthly.december}" class="Fright" />
                            </p:column >
                        </p:dataTable>  

                    </div>
                </div>   
            </div>   
        </h:panelGroup>
    </h:form>
    <div class="EmptyBox20" />   
    <h:form id="frmToolbarInfoGraphic"  >
        <p:toolbar >  
            <f:facet name="left">
            </f:facet>
            <f:facet name="right">                                    
                <div class="verticalSeparator">
                    <p:commandLink id="togglebtn" title="#{loc.openclose}" class="Fleft panelToggleRotate" global="false" onclick="Centrowiz.panelToggle();" >                 
                        <i class="icon-up-open Fs16 tlbrPanelToggle" style="margin-top: 10px;" /> 
                    </p:commandLink>    
                </div>
            </f:facet>
        </p:toolbar>
    </h:form>
    <h:form id="frmInfoGraphic">
        <h:panelGroup id="pgrInfoGraphic"  layout="block" transient="true" >
            <h:panelGroup >
                <div class="ui-g divContent">  
                    <div class="panelToggle ui-g-12">

                        <div class="ui-g-12 ui-md-3">
                            <p:panel style="margin-top: 10px;">
                                <div id="chartdaily" class="TexAlCenter"  style="min-height: 255px; max-height: 350px; width: 99%;position:relative;"   >
                                    <h:outputText value="#{loc.employeelastdaystockremovalcounts}" class="fontBold Fs16 " style="color: #303030 !important;"/>
                                    <svg style="height: 250px; margin-top: 15px;"></svg>
                                </div>
                            </p:panel>
                        </div>
                        <div class="ui-g-12 ui-md-3">
                            <p:panel style="margin-top: 10px;">
                                <div id="chartweekly" class="TexAlCenter"  style="min-height: 255px; max-height: 350px; width: 99%;position:relative;"   >
                                    <h:outputText value="#{loc.employeelastweekstockremovalcounts}" class="fontBold Fs16 " style="color: #303030 !important;"/>
                                    <svg style="height: 250px; margin-top: 15px;"></svg>
                                </div>
                            </p:panel>
                        </div>


                        <div class="ui-g-12 ui-md-3">
                            <p:panel style="margin-top: 10px;">

                                <div id="chartmonthly" class="TexAlCenter" style="min-height: 255px; max-height: 350px; width: 99%;position:relative;"   >
                                    <h:outputText value="#{loc.employeelastmonthstockremovalcounts}" class="fontBold Fs16" style="color: #303030 !important;"/>
                                    <svg style="height: 250px; margin-top: 15px;"></svg>
                                </div>
                            </p:panel>
                        </div>
                        <div class="ui-g-12 ui-md-3">
                            <p:panel style="margin-top: 10px;">
                                <div id="chartyear" class="TexAlCenter"  style="min-height: 255px; max-height: 350px; width: 99%;position:relative;"   >
                                    <h:outputText value="#{loc.employeeyearlystockremovalcounts}" class="fontBold Fs16 " style="color: #303030 !important;"/>
                                    <svg style="height: 250px; margin-top: 15px;"></svg>
                                </div>
                            </p:panel>
                        </div>
                    </div>
                </div>
            </h:panelGroup>
        </h:panelGroup>

    </h:form>
    <div class="EmptyBox20" />   
    <h:form id="frmToolbarInfo" prependId="false" >
        <p:toolbar rendered="#{removedStockReportBean.isClickedEmployee}"  >  
            <f:facet name="right">     

                <h:commandLink id="btnPdft"    title="#{loc.transfertopdf}"  class ="Fleft tlbrIcon "   actionListener="#{removedStockReportBean.createPdf()}" >
                    <i class="icon-file-pdf tlbrPdfBtn Fs23"  />
                </h:commandLink>
                <h:commandLink id="btnExcelt" title="#{loc.transfertoexcel}"  class ="tlbrIcon"  actionListener="#{removedStockReportBean.createExcel()}">
                    <i class="icon-file-excel tlbrExcelBtn Fs23"  />
                </h:commandLink>  
                <h:panelGroup id="pgrPrintert">
                    <p:commandLink id="btnPrint" actionListener="#{removedStockReportBean.createPrinter()}" title="#{loc.print}"  class ="tlbrIcon" >
                        <i class="icon-print Fs23 tlbrSaveBtn"/>  
                    </p:commandLink>        
                </h:panelGroup>  


            </f:facet>
        </p:toolbar>
    </h:form>
    <h:form id="frmInfo" >
        <h:panelGroup id="pgrInfo"  layout="block" transient="true" >

            <h:panelGroup   rendered="#{removedStockReportBean.isClickedEmployee}" >
                <div class="ui-g divContent">
                    <p:panelGrid columns="8" layout="grid" style="border: none !important;width: 100%">
                        <p:panelGrid columns="1" layout="grid" style="border: none !important;">
                            <p:outputLabel rendered="true" value="#{loc.startdate}" for="cldStartDate" styleClass="Fs12 FontBold"/>
                            <p:calendar  id="cldStartDate"  timeControlType="select"   value="#{removedStockReportBean.beginDate}" style="width: 160px !important" class="datepicker Fleft tlbrIcon " required="true" beforeShow="dpClearButton" pattern="#{sessionBean.user.lastBranch.dateFormat}  HH:mm:ss" showOn="button" showButtonPanel="true" placeholder="#{loc.startdate}" mask="true" navigator="true" locale="#{sessionBean.locale}" yearRange="c-100:c+20"  >
                                <p:ajax event="change" update="cldStartDate,frmInfo:pgrInfo" resetValues="true" global="true"  listener="#{removedStockReportBean.changeShiftDetail()}" />
                            </p:calendar>
                        </p:panelGrid>

                        <p:panelGrid columns="1" layout="grid" style="border: none !important">
                            <p:outputLabel rendered="true" value="#{loc.enddate}" for="cldEndDate" styleClass="Fs12 FontBold"/>
                            <p:calendar  id="cldEndDate"  timeControlType="select"  value="#{removedStockReportBean.endDate}" style="width: 160px !important" class="datepicker Fleft tlbrIcon " required="true" beforeShow="dpClearButton" pattern="#{sessionBean.user.lastBranch.dateFormat} HH:mm:ss" showOn="button" showButtonPanel="true" placeholder="#{loc.enddate}" mask="true" navigator="true" locale="#{sessionBean.locale}" yearRange="c-100:c+20" >
                                <p:ajax event="change" update="cldEndDate,frmInfo:pgrInfo" resetValues="true" global="true" listener="#{removedStockReportBean.changeShiftDetail()}" />
                            </p:calendar>
                        </p:panelGrid>
                    </p:panelGrid>

                    <div class="EmptyBox10" />

                    <div class=" ui-g-12">

                        <div class="ui-g-12 ui-md-12">


                            <p:dataTable  id="dtbRemoveStock" var="removestock"  value="#{removedStockReportBean.removedStockReportList}" widgetVar="removestockPF"   emptyMessage="#{loc.norecordsfound}"
                                          rows="#{sessionBean.user.defualtGridSize}" rowKey="#{removestock.id}" paginator="true" paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {CurrentPageReport}"
                                          rowsPerPageTemplate="#{sessionBean.user.gridSize}" paginatorPosition="bottom" currentPageReportTemplate="{startRecord}-{endRecord} #{loc.intotal} {totalRecords}" 
                                          reflow="true">
                                <p:ajax event="page" global="false"/>
                                <p:ajax event="filter" global="false"/>

                                <p:column id="clmName" headerText="#{loc.employee}" sortable="true" sortBy="#{removestock.userData.fullName}" filterable="true"  filterBy="#{removestock.userData.fullName}" filterMatchMode="contains" >
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText value="#{removestock.userData.fullName}" />
                                </p:column >

                                <p:column id="clmShift" headerText="#{loc.shiftno}" sortable="true" sortBy="#{removestock.shift.shiftNo}" filterable="true"  filterBy="#{removestock.shift.shiftNo}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText value="#{removestock.shift.shiftNo}" />
                                </p:column >
                                <p:column id="clmDate" headerText="#{loc.processdate}" sortable="true" sortBy="#{removestock.shift.shiftNo}" filterable="true"  filterBy="#{removestock.shift.shiftNo}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText value="#{removestock.processDate}" >
                                        <f:convertDateTime pattern="#{sessionBean.user.lastBranch.dateFormat} HH:mm:ss"/>
                                    </h:outputText>
                                </p:column >

                                <p:column id="clmStockCode" headerText="#{loc.stockcode}" sortable="true" sortBy="#{removestock.stock.code}" filterable="true"  filterBy="#{removestock.stock.code}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText  value="#{removestock.stock.code}"/>
                                </p:column>

                                <p:column id="clmCenterStockCode" headerText="#{loc.centerstockcode}" sortable="true" sortBy="#{removestock.stock.centerProductCode}" filterable="true"  filterBy="#{removestock.stock.centerProductCode}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText  value="#{removestock.stock.centerProductCode}"/>
                                </p:column>

                                <p:column id="clmBarcode" headerText="#{loc.stockbarcode}" sortable="true" sortBy="#{removestock.stock.barcode}" filterable="true"  filterBy="#{removestock.stock.barcode}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText value="#{removestock.stock.barcode}" />
                                </p:column >
                                <p:column id="clmStock" headerText="#{loc.stock}" sortable="true" sortBy="#{removestock.stock.name}" filterable="true"  filterBy="#{removestock.stock.name}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText value="#{removestock.stock.name}" />
                                </p:column >

                     
                                <p:column id="clmCategory" headerText="#{loc.stockcategory}" sortable="true" sortBy="#{removestock.category}" filterable="true"  filterBy="#{removestock.category}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText  value="#{removestock.category}"/>
                                </p:column>
                                <p:column id="clmCentralSupplier" headerText="#{loc.centralsupplier}" rendered="#{sessionBean.user.lastBranchSetting.isCentralIntegration}" sortable="true" sortBy="#{removestock.stock.centralSupplier.name}" filterable="true"  filterBy="#{removestock.stock.centralSupplier.name}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText  value="#{removestock.stock.centralSupplier.name}"/>
                                </p:column>
                                <p:column id="clmSupplier" headerText="#{loc.supplier}" sortable="true" sortBy="#{removestock.stock.supplier.name}" filterable="true"  filterBy="#{removestock.stock.supplier.name}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText  value="#{removestock.stock.supplier.name}"/>
                                </p:column>
                                <p:column id="clmBrand" headerText="#{loc.brand}" sortable="true" sortBy="#{removestock.stock.brand.name}" filterable="true"  filterBy="#{removestock.stock.brand.name}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText  value="#{removestock.stock.brand.name}"/>
                                </p:column>

                                <p:column id="clmOldValue" headerText="#{loc.oldamount}" sortable="true" sortBy="#{removestock.oldvalue}" filterable="true"  filterBy="#{removestock.oldvalue}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText value="#{removestock.oldValue}" class="Fright">
                                        <f:converter converterId="currencyConverter" />
                                        <f:attribute name="unit" value="#{removestock.stock.unit}"/>
                                        <f:attribute name="type" value="unit" />
                                    </h:outputText>
                                </p:column >
                                <p:column id="clmNewValue" headerText="#{loc.newamount}" sortable="true" sortBy="#{removestock.newValue}" filterable="true"  filterBy="#{removestock.newValue}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText value="#{removestock.newValue}" class="Fright">
                                        <f:converter converterId="currencyConverter" />
                                        <f:attribute name="unit" value="#{removestock.stock.unit}"/>
                                        <f:attribute name="type" value="unit" />
                                    </h:outputText>
                                </p:column >

                                <p:column id="clmRemovalAmount" headerText="#{loc.removedamount}" sortable="true" sortBy="#{removestock.removedValue}" filterable="true"  filterBy="#{removestock.removedValue}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText value="#{removestock.removedValue}" class="Fright">
                                        <f:converter converterId="currencyConverter" />
                                        <f:attribute name="unit" value="#{removestock.stock.unit}"/>
                                        <f:attribute name="type" value="unit" />
                                    </h:outputText>
                                </p:column >

                                <p:column id="clmUnitPrice" headerText="#{loc.unitprice}" sortable="true" sortBy="#{removestock.unitPrice}" filterable="true"  filterBy="#{removestock.unitPrice}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText value="#{removestock.unitPrice}" class="Fright"> 
                                        <f:converter converterId="currencyConverter" />
                                        <f:attribute name="currency" value="#{removestock.currency}"/>
                                        <f:attribute name="type" value="currency" />
                                    </h:outputText>
                                </p:column >

                                <p:column id="clmSumRemovedTotal" headerText="#{loc.removedtotalprice}" sortable="true" sortBy="#{removestock.removedTotalPrice}" filterable="true"  filterBy="#{removestock.removedTotalPrice}" filterMatchMode="contains">
                                    <f:facet name="filter">
                                        <p:outputLabel   rendered="false" />
                                    </f:facet> 
                                    <h:outputText value="#{removestock.removedTotalPrice}" class="Fright"> 
                                        <f:converter converterId="currencyConverter" />
                                        <f:attribute name="currency" value="#{removestock.currency}"/>
                                        <f:attribute name="type" value="currency" />
                                    </h:outputText>
                                </p:column >
                            </p:dataTable>  
                        </div>
                    </div>
                </div>

            </h:panelGroup>
        </h:panelGroup>
    </h:form>






    <!--Print butonuna basınca çalışan kısım-->
    <p:panel id="printerContainer" style="display: none"  >
        <p:panelGrid id="printerPanel" >

        </p:panelGrid>
    </p:panel> 

    <style type="text/css">
        .ui-selectonemenu label.ui-selectonemenu-label{
            height: 25px;
            text-align: left;
            padding: 4px 0 0px 11px !important;
        }
        .ui-selectonemenu .ui-selectonemenu-trigger .ui-icon {
            margin-top: 6px !important;
        }
        .ui-datepicker-trigger.ui-button{
            top: 0px !important
        }
     
    </style>

    <script type="text/javascript">
        var datayearlyremovedstock, datamonthlyremovedstock, datadailyremovedstock, dataweeklyremovedstock;
        var chrtyearlyremovedstock = nv.models.pieChart(), chrtmonthlyremovedstock = nv.models.pieChart(), chrtweeklyremovedstock = nv.models.pieChart(), chrtdailyremovedstock = nv.models.pieChart();
        function print_page() {
            var divContents = $("#printerPanel").html();
            var printWindow = window.open('', '', 'height=400,width=800');
            printWindow.document.write('<div style="text-align:center; font-weight:bold; font-family:sans-serif;">#{loc.removedstockreport}</div>');
            printWindow.document.write('<div id="printerDiv">');
            printWindow.document.write(divContents);
            printWindow.document.write('</div>');
            printWindow.document.close();
            printWindow.print();

        }

        /*Bu Fonskiyon X Ekseninde Gizlenmek İstenen Karakter Kadar Gizmle Yapar.*/
        function xTicksRemove(begin, end) {
            /* var positionX = begin; var positionY = end; var verticalOffset = 30; 
             d3.selectAll('.nv-legend .nv-series')[0].forEach(function (d) { 
             positionY += verticalOffset; d3.select(d).attr('transform', 'translate(' + positionX + ',' + positionY + ')'); 
             });*/

            /* d3.select(".nv-legendWrap")
             .attr("transform", "translate(0,0)");*/
        }


        function updatedailyremovedstock() {
            chrtdailyremovedstock.update()
            xTicksRemove(0, 0);
        }




        /*Son Gün Kaldırılan Stoklar*/
        function  dailyremovedstock(dataStr) {
            datadailyremovedstock = dataStr;
            var jsondata = [];
            var isThere = false;
            var list = $.parseJSON(dataStr);
            var list2 = $.parseJSON(dataStr);
            for (var i in list) {
                for (var a in jsondata) {
                    if (jsondata[a].label === list[i].name1) {
                        isThere = true;
                        break;
                    } else {
                        isThere = false;
                    }
                }
                /*Listede Yok İse Listeye Ekle*/
                if (!isThere) {
                    var count = 0;
                    for (var j in list2) {
                        if (list[i].name === list2[j].name1) {
                            count = list2[j].number1;
                        }
                    }
                    var data = {};
                    data.label = list[i].name1;
                    data.value = list[i].number1;
                    jsondata.push(data);
                }
            }
            nv.addGraph(function () {
                //d3.selectAll("#chartmonthly svg > *").remove();
                // d3.selectAll(".nvtooltip").remove();
                chrtdailyremovedstock = nv.models.pieChart()
                        .x(function (d) {
                            return d.label
                        })
                        .y(function (d) {
                            return d.value
                        })
                        .showLabels(true)
                        .showLegend(true)
                        .labelThreshold(.05)
                        .legendPosition("right")
                        .labelType("value")
                        .donut(true)
                        .donutRatio(0.35)
                        .width(100) // width
                        .height(500);


                chrtdailyremovedstock.noData('#{loc.norecordsfound}');
                chrtdailyremovedstock.color(['#9bccdc', '#9ba7dc', '#c5c5c5', '#ffbf81', '#f9e074', '#b1e8d3', '#e8b1b1', '#f3c5fb', '#9bdcfb'])
                chrtdailyremovedstock.valueFormat(d3.format(',.f'));
                d3.select('#chartdaily svg')
                        .datum(jsondata)
                        .transition().duration(500).call(chrtdailyremovedstock);

                var nocomment = d3.select('#chartdaily svg ').select('.nv-noData');
                nocomment
                        .attr('x', 200)
                        .attr('y', 150);
                xTicksRemove(0, 0)
                nv.utils.windowResize(chrtdailyremovedstock.update);
                return chrtdailyremovedstock;
            });

        }



        /*Son Hafta Kaldırılan Stoklar*/
        function  weeklyremovedstock(dataStr) {
            dataweeklyremovedstock = dataStr;
            var jsondata = [];
            var isThere = false;
            var list = $.parseJSON(dataStr);
            var list2 = $.parseJSON(dataStr);
            for (var i in list) {
                for (var a in jsondata) {
                    if (jsondata[a].label === list[i].name1) {
                        isThere = true;
                        break;
                    } else {
                        isThere = false;
                    }
                }
                /*Listede Yok İse Listeye Ekle*/
                if (!isThere) {
                    var count = 0;
                    for (var j in list2) {
                        if (list[i].name === list2[j].name1) {
                            count = list2[j].number1;
                        }
                    }
                    var data = {};
                    data.label = list[i].name1;
                    data.value = list[i].number1;
                    jsondata.push(data);
                }
            }
            nv.addGraph(function () {
                //d3.selectAll("#chartmonthly svg > *").remove();
                // d3.selectAll(".nvtooltip").remove();
                chrtweeklyremovedstock = nv.models.pieChart()
                        .x(function (d) {
                            return d.label
                        })
                        .y(function (d) {
                            return d.value
                        })
                        .showLabels(true)
                        .showLegend(true)
                        .labelThreshold(.05)
                        .labelType("value")
                        .legendPosition("right")
                        .donut(true)
                        .donutRatio(0.35)
                        .width(100) // width
                        .height(500);


                chrtweeklyremovedstock.noData('#{loc.norecordsfound}');
                chrtweeklyremovedstock.color(['#b1e8d3', '#e8b1b1', '#9bccdc', '#9ba7dc', '#c5c5c5', '#ffbf81', '#f9e074', '#b1e8d3', '#e8b1b1', '#f3c5fb', '#9bdcfb'])
                chrtweeklyremovedstock.valueFormat(d3.format(',.f'));
                d3.select('#chartweekly svg')
                        .datum(jsondata)
                        .transition().duration(500).call(chrtweeklyremovedstock);

                var nocomment = d3.select('#chartweekly svg ').select('.nv-noData');
                nocomment
                        .attr('x', 200)
                        .attr('y', 150);
                nv.utils.windowResize(chrtweeklyremovedstock.update);
                return chrtweeklyremovedstock;
            });

        }




        /*Son Ay Kaldırılan Stoklar*/
        function  yearlyremovedstock(dataStr) {
            datayearlyremovedstock = dataStr;
            var jsondata = [];
            var isThere = false;
            var list = $.parseJSON(dataStr);
            var list2 = $.parseJSON(dataStr);
            for (var i in list) {
                for (var a in jsondata) {
                    if (jsondata[a].label === list[i].name1) {
                        isThere = true;
                        break;
                    } else {
                        isThere = false;
                    }
                }
                /*Listede Yok İse Listeye Ekle*/
                if (!isThere) {
                    var count = 0;
                    for (var j in list2) {
                        if (list[i].name === list2[j].name1) {
                            count = list2[j].number1;
                        }
                    }
                    var data = {};
                    data.label = list[i].name1;
                    data.value = list[i].number1;
                    jsondata.push(data);
                }
            }

            nv.addGraph(function () {
                //d3.selectAll("#chartyear svg > *").remove();
                //  d3.selectAll(".nvtooltip").remove();
                chrtyearlyremovedstock = nv.models.pieChart()
                        .x(function (d) {
                            return d.label
                        })
                        .y(function (d) {
                            return d.value
                        })
                        .showLabels(true)
                        .showLegend(true)
                        .legendPosition("right")
                        .labelType("value")
                        .donut(true)
                        .donutRatio(0.35)
                        .width(100) // width
                        .height(500);


                chrtyearlyremovedstock.noData('#{loc.norecordsfound}');
                chrtyearlyremovedstock.color(['#f3c5fb', '#c5c5c5', '#f9e074', '#9bccdc', '#9ba7dc', '#b1e8d3', '#e8b1b1', '#ffbf81', '#9bdcfb'])
                chrtyearlyremovedstock.valueFormat(d3.format(',.f'));
                d3.select('#chartyear svg')
                        .datum(jsondata)
                        .transition().duration(500).call(chrtyearlyremovedstock);

                var nocomment = d3.select('#chartyear svg ').select('.nv-noData');
                nocomment
                        .attr('x', 200)
                        .attr('y', 150);
                nv.utils.windowResize(chrtyearlyremovedstock.update);
                return chrtyearlyremovedstock;
            });

        }





        /*Aylık Kaldırılan Stoklar*/
        function  monthlyremovedstock(dataStr) {
            datamonthlyremovedstock = dataStr;
            var jsondata = [];
            var isThere = false;
            var list = $.parseJSON(dataStr);
            var list2 = $.parseJSON(dataStr);
            for (var i in list) {
                for (var a in jsondata) {
                    if (jsondata[a].label === list[i].name1) {
                        isThere = true;
                        break;
                    } else {
                        isThere = false;
                    }
                }
                /*Listede Yok İse Listeye Ekle*/
                if (!isThere) {
                    var count = 0;
                    for (var j in list2) {
                        if (list[i].name === list2[j].name1) {
                            count = list2[j].number1;
                        }
                    }
                    var data = {};
                    data.label = list[i].name1;
                    data.value = list[i].number1;
                    jsondata.push(data);
                }
            }
            nv.addGraph(function () {
                //d3.selectAll("#chartmonthly svg > *").remove();
                // d3.selectAll(".nvtooltip").remove();
                chrtmonthlyremovedstock = nv.models.pieChart()
                        .x(function (d) {
                            return d.label
                        })
                        .y(function (d) {
                            return d.value
                        })
                        .showLabels(true)
                        .showLegend(true)
                        .labelThreshold(.05)
                        .legendPosition("right")
                        .labelType("value")
                        .donut(true)
                        .donutRatio(0.35)
                        .width(100) // width
                        .height(500);


                chrtmonthlyremovedstock.noData('#{loc.norecordsfound}');
                chrtmonthlyremovedstock.color(['#c5c5c5', '#ffbf81', '#f9e074', '#9bccdc', '#9ba7dc', '#b1e8d3', '#e8b1b1', '#f3c5fb', '#9bdcfb'])
                chrtmonthlyremovedstock.valueFormat(d3.format(',.f'));
                d3.select('#chartmonthly svg')
                        .datum(jsondata)
                        .transition().duration(500).call(chrtmonthlyremovedstock);

                var nocomment = d3.select('#chartmonthly svg ').select('.nv-noData');
                nocomment
                        .attr('x', 200)
                        .attr('y', 150);
                nv.utils.windowResize(chrtmonthlyremovedstock.update);
                return chrtmonthlyremovedstock;
            });

        }



    </script>
</ui:composition>
