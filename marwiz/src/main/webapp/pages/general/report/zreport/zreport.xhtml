<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">


    <h:form id="frmZReport">
        <ui:include src="/pages/general/common/toolbarreport.xhtml" >
            <ui:param name="outputtext" value="#{loc.zreport}"/>
            <ui:param name="bean" value='#{zReportBean}' />
            <ui:param name="update" value="pgZReport pgrZReportDatatable" />
        </ui:include>

        <h:panelGroup id="pgZReport" class="divContent" layout="block" transient="true">  
            <div class="panelToggle  ui-g">
                <div class="ui-g-12 ui-md-6 ui-lg-2">
                    <p:outputLabel value="#{loc.startdate}" for="cldStartDate" styleClass="Fs12 FontBold"/>
                    <p:calendar  id="cldStartDate" class="datepicker" value="#{zReportBean .selectedObject.beginDate}" required="true" beforeShow="dpClearButton" pattern="#{sessionBean.user.lastBranch.dateFormat} HH:mm:ss" timeControlType="select" showOn="button" showButtonPanel="true" placeholder="#{loc.startdate}" mask="true" navigator="true" locale="#{sessionBean.locale}" yearRange="c-100:c+20" >
                        <p:ajax event="change" update="cldStartDate" resetValues="true" global="false"/>
                    </p:calendar>
                </div>
                <div class="ui-g-12 ui-md-6 ui-lg-2">
                    <p:outputLabel value="#{loc.enddate}" for="cldEndDate" styleClass="Fs12 FontBold"/>
                    <p:calendar  id="cldEndDate" class="datepicker" value="#{zReportBean.selectedObject.endDate}" required="true" beforeShow="dpClearButton" pattern="#{sessionBean.user.lastBranch.dateFormat} HH:mm:ss" timeControlType="select" showOn="button" showButtonPanel="true" placeholder="#{loc.enddate}" mask="true" navigator="true" locale="#{sessionBean.locale}" yearRange="c-100:c+20" >
                        <p:ajax event="change" update="cldEndDate" resetValues="true" global="false"/>
                    </p:calendar>
                </div>

            </div>
        </h:panelGroup>
    </h:form>

    <div class="EmptyBox20" />
    <h:panelGroup id="pgrZReportDatatable" >
        <h:panelGroup rendered="#{zReportBean.isFind}">
            <ui:include src="/pages/general/common/datagridtoolbarreport.xhtml" >
                <ui:param name="outputtext" value="#{loc.generaltrialbalancereport}"/>
                <ui:param name="bean" value='#{zReportBean}' />
                <ui:param name="renderedExcel" value="false" />
                <ui:param name="renderedPdf" value="false" />
                <ui:param name="renderedPrint" value="false" />
                <ui:param name="renderedPrintSummary" value="true" />
                <ui:param name="printSummaryField" value="frmFieldSet"/>
            </ui:include>
            <div class="divContent">
                <h:form id="frmFieldSet">
                    <!--Sales Category List-->
                    <div class="ui-g">


                        <div class="ui-g-12 ui-md-12 ui-lg-6">
                            <p:fieldset legend="#{loc.taxgroupbased}" toggleable="true" toggleSpeed="500" class="marketShiftSaleListFieldSet">
                                <p:dataTable id="dtbTaxList" var="taxList" value="#{zReportBean.listOfTaxList}"  emptyMessage="#{loc.norecordsfound}">

                                    <p:column id="clmTaxRate3" headerText="#{loc.kdv} %" >
                                        <h:outputText value="#{taxList.taxRate}" class="Fright" >
                                            <f:converter converterId="currencyConverter" />
                                            <f:attribute name="currency" value=""/>
                                            <f:attribute name="type" value="percent" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column id="clmSalesAmount3" headerText="#{loc.salesamount}" >
                                        <h:outputText value="#{taxList.saleAmount}" class="Fright" >
                                            <f:convertNumber pattern="#{sessionBean.user.lastBranch.decimalsymbol == 1? '#0.00':'#0.00'}" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column id="clmReturnAmount3" headerText="#{loc.returnamount}" >
                                        <h:outputText value="#{taxList.returnAmount}" class="Fright" >
                                            <f:convertNumber pattern="#{sessionBean.user.lastBranch.decimalsymbol == 1? '#0.00':'#0.00'}" />
                                        </h:outputText>
                                    </p:column>


                                    <p:column id="clmSalePrice3" headerText="#{loc.salesprice}" >
                                        <h:outputText value="#{taxList.salePrice}" class="Fright" >
                                            <f:converter converterId="currencyConverter"  />
                                            <f:attribute name="currency"  value="#{sessionBean.user.lastBranch.currency}"/>
                                            <f:attribute name="type" value="currency" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column id="clmReturnPrice3" headerText="#{loc.returnprice}" >
                                        <h:outputText value="#{taxList.returnPrice}" class="Fright" >
                                            <f:converter converterId="currencyConverter"  />
                                            <f:attribute name="currency"  value="#{sessionBean.user.lastBranch.currency}"/>
                                            <f:attribute name="type" value="currency" />
                                        </h:outputText>
                                    </p:column>


                                    <p:columnGroup type="footer" class="Fright">
                                        <p:row>
                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{loc.sum} " style="text-align:right; font-weight: bold; " />
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{zReportBean.clcSubTotalTaxRateList(1)}" style="font-weight: bold; " >
                                                        <f:converter converterId="currencyConverter" />
                                                        <f:attribute name="type" value="" />
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{zReportBean.clcSubTotalTaxRateList(2)}" style="font-weight: bold; " >
                                                        <f:converter converterId="currencyConverter" />
                                                        <f:attribute name="type" value="" />
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{zReportBean.clcSubTotalTaxRateList(3)}" style="font-weight: bold; " >
                                                        <f:converter converterId="currencyConverter" />
                                                        <f:attribute name="currency" value="#{sessionBean.user.lastBranch.currency}"/>
                                                        <f:attribute name="type" value="currency" />
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{zReportBean.clcSubTotalTaxRateList(4)}" style="font-weight: bold; " >
                                                        <f:converter converterId="currencyConverter" />
                                                        <f:attribute name="currency" value="#{sessionBean.user.lastBranch.currency}"/>
                                                        <f:attribute name="type" value="currency" />
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>

                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </p:fieldset>
                        </div>

                        <div class="ui-g-12 ui-md-12 ui-lg-6">
                            <p:fieldset legend="#{loc.paymenttypebased}" toggleable="true" toggleSpeed="500" class="marketShiftSaleListFieldSet">     
                                <p:dataTable id="dtbSalesTypeList" var="categoryList" value="#{zReportBean.listOfSalesTypeList}"  emptyMessage="#{loc.norecordsfound}">

                                    <p:column id="clmStockBarcode" headerText="#{loc.paymenttype}" >
                                        <h:outputText value="#{categoryList.type.id==-1 ? loc.open : categoryList.type.id==-2 ? loc.common : categoryList.type.tag}" />
                                    </p:column>     

                                    <p:column id="clmTaxRate" headerText="#{loc.salesprice}" >
                                        <h:outputText value="#{categoryList.salePrice}" class="Fright" >
                                            <f:converter converterId="currencyConverter"  />
                                            <f:attribute name="currency" value="#{sessionBean.user.lastBranch.currency}"/>
                                            <f:attribute name="type" value="currency" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column id="clmTotalTaxPrice" headerText="#{loc.returnprice}" >
                                        <h:outputText value="#{categoryList.returnPrice}" class="Fright" >
                                            <f:converter converterId="currencyConverter"  />
                                            <f:attribute name="currency" value="#{sessionBean.user.lastBranch.currency}"/>
                                            <f:attribute name="type" value="currency" />
                                        </h:outputText>
                                    </p:column>


                                    <p:columnGroup type="footer" class="Fright">
                                        <!-- Sales List Subtotal -->
                                        <p:row>
                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{loc.sum} " style="text-align:right; font-weight: bold; " />
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{zReportBean.clcSubTotalSalesSalesListUnit(1)}" style="font-weight: bold; " >

                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{zReportBean.clcSubTotalSalesSalesListUnit(2)}" style="font-weight: bold; " >

                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>

                            </p:fieldset>   
                        </div>

                        <div class="ui-g-12 ui-md-12 ui-lg-6">
                            <p:fieldset legend="#{loc.categorybased}" toggleable="true" toggleSpeed="500" class="marketShiftSaleListFieldSet" >
                                <p:dataTable id="dtbCategoryList" var="categoryList" value="#{zReportBean.listOfCategoryList}"  emptyMessage="#{loc.norecordsfound}">

                                    <p:column id="clmStockBarcode" headerText="#{loc.category}" >
                                        <h:outputText value="#{categoryList.categoryId == -1 ? loc.stockswithoutcategory : categoryList.description}" />
                                    </p:column>

                                    <p:column id="clmSaleAmount" headerText="#{loc.salesamount}" >
                                        <h:outputText value="#{categoryList.saleAmount}" class="Fright" >
                                            <f:converter converterId="currencyConverter" />
                                            <f:attribute name="type" value="" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column id="clmReturnAmount" headerText="#{loc.returnamount}" >
                                        <h:outputText value="#{categoryList.returnAmount}" class="Fright" >
                                            <f:converter converterId="currencyConverter" />
                                            <f:attribute name="type" value="" />
                                        </h:outputText>
                                    </p:column>  

                                    <p:column id="clmSalesPrice" headerText="#{loc.salesprice}" >
                                        <h:outputText value="#{categoryList.salePrice}" class="Fright" >
                                            <f:converter converterId="currencyConverter"  />
                                            <f:attribute name="currency" value="#{sessionBean.user.lastBranch.currency}"/>
                                            <f:attribute name="type" value="currency" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column id="clmReturnPrice" headerText="#{loc.returnprice}" >
                                        <h:outputText value="#{categoryList.returnPrice}" class="Fright" >
                                            <f:converter converterId="currencyConverter"  />
                                            <f:attribute name="currency" value="#{sessionBean.user.lastBranch.currency}"/>
                                            <f:attribute name="type" value="currency" />
                                        </h:outputText>
                                    </p:column>

                                    <p:columnGroup type="footer" class="Fright">
                                        <!-- Sales List Subtotal -->
                                        <p:row>
                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{loc.sum} " style="text-align:right; font-weight: bold; " />
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{zReportBean.clcSubTotalSalesCategoryListUnit(1)}" style="font-weight: bold; " >

                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{zReportBean.clcSubTotalSalesCategoryListUnit(2)}" style="font-weight: bold; " >

                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{zReportBean.clcSubTotalSalesCategoryListUnit(3)}" style="font-weight: bold; " >

                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{zReportBean.clcSubTotalSalesCategoryListUnit(4)}" style="font-weight: bold; " >

                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>

                            </p:fieldset>   
                        </div>


                        <div class="ui-g-12 ui-md-12 ui-lg-6">
                            <p:fieldset legend="#{loc.cashierbased}" toggleable="true" toggleSpeed="500" class="marketShiftSaleListFieldSet">
                                <p:dataTable id="dtbCashierList" var="cashierList" value="#{zReportBean.listOfCashierList}"  emptyMessage="#{loc.norecordsfound}">

                                    <p:column id="clmCashier4" headerText="#{loc.cashier}" >
                                        <h:outputText value="#{cashierList.userData.name}  #{cashierList.userData.surname}" />
                                    </p:column>

                                    <p:column id="clmSalesAmount4" headerText="#{loc.salesamount}" >
                                        <h:outputText value="#{cashierList.saleAmount}" class="Fright" >
                                            <f:convertNumber pattern="#{sessionBean.user.lastBranch.decimalsymbol == 1? '#0.00':'#0.00'}" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column id="clmReturnAmount4" headerText="#{loc.returnamount}" >
                                        <h:outputText value="#{cashierList.returnAmount}" class="Fright" >
                                            <f:convertNumber pattern="#{sessionBean.user.lastBranch.decimalsymbol == 1? '#0.00':'#0.00'}" />
                                        </h:outputText>
                                    </p:column>


                                    <p:column id="clmSalePrice4" headerText="#{loc.salesprice}" >
                                        <h:outputText value="#{cashierList.salePrice}" class="Fright" >
                                            <f:converter converterId="currencyConverter"  />
                                            <f:attribute name="currency"  value="#{sessionBean.user.lastBranch.currency}"/>
                                            <f:attribute name="type" value="currency" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column id="clmReturnPrice4" headerText="#{loc.returnprice}" >
                                        <h:outputText value="#{cashierList.returnPrice}" class="Fright" >
                                            <f:converter converterId="currencyConverter"  />
                                            <f:attribute name="currency"  value="#{sessionBean.user.lastBranch.currency}"/>
                                            <f:attribute name="type" value="currency" />
                                        </h:outputText>
                                    </p:column>


                                    <p:columnGroup type="footer" class="Fright">
                                        <p:row>
                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{loc.sum} " style="text-align:right; font-weight: bold; " />
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{zReportBean.clcSubTotalCashierList(1)}" style="font-weight: bold; " >
                                                        <f:converter converterId="currencyConverter" />
                                                        <f:attribute name="type" value="" />
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{zReportBean.clcSubTotalCashierList(2)}" style="font-weight: bold; " >
                                                        <f:converter converterId="currencyConverter" />
                                                        <f:attribute name="type" value="" />
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{zReportBean.clcSubTotalCashierList(3)}" style="font-weight: bold; " >
                                                        <f:converter converterId="currencyConverter" />
                                                        <f:attribute name="currency" value="#{sessionBean.user.lastBranch.currency}"/>
                                                        <f:attribute name="type" value="currency" />
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column colspan="1" style="text-align:right; font-weight: bold; " priority="1">
                                                <f:facet name="footer"  >
                                                    <h:outputText value="#{zReportBean.clcSubTotalCashierList(4)}" style="font-weight: bold; " >
                                                        <f:converter converterId="currencyConverter" />
                                                        <f:attribute name="currency" value="#{sessionBean.user.lastBranch.currency}"/>
                                                        <f:attribute name="type" value="currency" />
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>

                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </p:fieldset>
                        </div>

                        <div class="EmptyBox10"/>

                        <div class="ui-g-12">

                            <div class="ui-g-12 ui-md-12 ui-lg-3" style="line-height: 24px;"> 
                                <p:panel style="height: 147px">
                                    <h:outputText value="#{loc.plugcounterinformation}"  class="Fs20 FontBold" style="color:#316996"/>
                                    <h:panelGrid columns="2" >
                                        <h:outputText value="#{loc.totalnumberofreceipt} :" style="font-weight: bold;" />
                                        <h:outputText value="#{zReportBean.listOfReceiptCount.get(0).receiptCount} " />
                                        <h:outputText value="#{loc.numberofreceiptcanceled} :"  style="font-weight: bold;"/>
                                        <h:outputText value="#{zReportBean.listOfReceiptCount.get(0).returnReceiptCount} " />
                                    </h:panelGrid>
                                </p:panel>
                            </div>

                            <div class="ui-g-12 ui-md-12 ui-lg-4" style="line-height: 24px;">
                                <p:panel style="height: 147px">
                                    <h:outputText value="#{loc.salesinformation}"  class="Fs20 FontBold" style="color:#316996"/>
                                    <h:panelGrid columns="2" >
                                        <h:outputText value="#{loc.totalsalespricewithtax} :"  style="font-weight: bold;"/>
                                        <h:outputText value="#{zReportBean.salesTotalMoneyIncludeReturn==null ? 0 :zReportBean.salesTotalMoneyIncludeReturn}" class="Fright">
                                            <f:converter converterId="currencyConverter"  />
                                            <f:attribute name="currency" value="#{sessionBean.user.lastBranch.currency}"/>
                                            <f:attribute name="type" value="currency" />
                                        </h:outputText>
                                        <h:outputText value="#{loc.refundedsalesamount} :"  style="font-weight: bold;"/>
                                        <h:outputText value="#{zReportBean.salesReturnTotalMoney==null ? 0 :zReportBean.salesReturnTotalMoney}" class="Fright">
                                            <f:converter converterId="currencyConverter"  />
                                            <f:attribute name="currency" value="#{sessionBean.user.lastBranch.currency}"/>
                                            <f:attribute name="type" value="currency" />
                                        </h:outputText>
                                        <h:outputText value="#{loc.vatincludedsalesamount} :"  style="font-weight: bold;"/>
                                        <h:outputText value="#{zReportBean.salesTotalMoney==null ? 0 :zReportBean.salesTotalMoney}" class="Fright">
                                            <f:converter converterId="currencyConverter"  />
                                            <f:attribute name="currency" value="#{sessionBean.user.lastBranch.currency}"/>
                                            <f:attribute name="type" value="currency" />
                                        </h:outputText>
                                        <h:outputText value="#{loc.vatexcludingsalesamount} :"  style="font-weight: bold;"/>
                                        <h:outputText value="#{zReportBean.salesTotalPrice==null ? 0 :zReportBean.salesTotalPrice}" class="Fright">
                                            <f:converter converterId="currencyConverter"  />
                                            <f:attribute name="currency" value="#{sessionBean.user.lastBranch.currency}"/>
                                            <f:attribute name="type" value="currency" />
                                        </h:outputText>


                                    </h:panelGrid>
                                </p:panel>
                            </div>
                        </div>
                    </div>
                </h:form>
            </div>
        </h:panelGroup>
    </h:panelGroup>

    <style type="text/css">
        .ui-datatable table tbody tr td {
            table-layout: fixed !important;
            white-space: pre-wrap !important;
            word-break: break-word !important;
        }
    </style>


</ui:composition>
