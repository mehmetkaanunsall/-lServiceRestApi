<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">



    <div class="ui-g-12 ">

        <div class="ui-g-12 ui-md-6 ui-lg-2">
            <p:outputLabel value="#{loc.accounttypes}" for="slcIsPerson" class="Fs12 FontBold" />
            <p:selectOneMenu id="slcIsPerson" required="true" value="#{bean.selectedObject.isPerson}" disabled="#{bean.selectedObject.isEmployee}" >
                <f:selectItem itemLabel="#{loc.individual}" itemValue="true" />
                <f:selectItem itemLabel="#{loc.corporate}" itemValue="false"   />
            </p:selectOneMenu>
        </div>
        <div class="ui-g-12 ui-md-6 ui-lg-2">
            <p:outputLabel value="#{loc.name}" for="txtName" styleClass="Fs12 FontBold"/>
            <p:inputText id="txtName" value="#{bean.selectedObject.onlyAccountName}" placeholder="#{loc.name} ">
                <p:keyFilter regEx="/[^\\\{\}\[\]\,\:\u0022]/" preventPaste="false" />
                <f:validateRegex pattern="[^\\\{\}\[\]\,\:\u0022]*" />
            </p:inputText>
        </div>
        <div class="ui-g-12 ui-md-6 ui-lg-2">
            <p:outputLabel value="#{bean.selectedObject.isEmployee  ?  loc.surname  : loc.commercialtitle}" for="txtTitle" styleClass="Fs12 FontBold"/>
            <p:inputText id="txtTitle" value="#{bean.selectedObject.title}" placeholder="#{bean.selectedObject.isEmployee  ?  loc.surname  : loc.commercialtitle} " >
                <p:keyFilter regEx="/[^\\\{\}\[\]\,\:\u0022]/" preventPaste="false" />
                <f:validateRegex pattern="[^\\\{\}\[\]\,\:\u0022]*" />
            </p:inputText>
        </div>           
        <div class="ui-g-12 ui-md-6 ui-lg-2">
            <p:outputLabel value="#{loc.code}" for="txtCode" styleClass="Fs12 FontBold"/>
            <p:inputText id="txtCode" value="#{bean.selectedObject.code}" placeholder="#{loc.code} "  required="true" disabled="#{bean.selectedObject.isEmployee}"/>
        </div>
        <div class="ui-g-12 ui-md-6 ui-lg-2">
            <p:outputLabel value="#{loc.type}" for="slcType" class="Fs12 FontBold"/>
            <p:selectOneMenu id="slcType"  value="#{bean.selectedObject.type.id}" required="true" disabled="#{bean.selectedObject.isEmployee}">
                <f:selectItems value="#{sessionBean.getTypes(3)}"  var="types" itemLabel="#{types.nameMap.get(sessionBean.langId).name}" itemValue="#{types.id}"  noSelectionValue="true"   />
            </p:selectOneMenu>
        </div>

        <h:panelGroup rendered="#{bean.processType==2}">
            <div class="ui-g-12 ui-md-6 ui-lg-2">
                <p:outputLabel value="#{loc.statu}" for="slcStatus2" class="Fs12 FontBold"/>
                <p:selectOneMenu id="slcStatus2" required="true" value="#{bean.selectedObject.status.id}"> 
                    <f:selectItems value="#{sessionBean.getStatus(3)}"  var="status" itemLabel="#{status.nameMap.get(sessionBean.langId).name}" itemValue="#{status.id}" />
                </p:selectOneMenu>
            </div>
        </h:panelGroup>

        <h:panelGroup rendered="#{bean.processType==1}">
            <div class="ui-g-12 ui-md-6 ui-lg-2">
                <p:outputLabel value="#{loc.statu}" for="slcStatus" class="Fs12 FontBold"/>
                <p:selectOneMenu id="slcStatus" required="true" value="#{bean.selectedObject.status.id}"> 
                    <f:selectItems value="#{sessionBean.getStatus(3)}"  var="status" itemLabel="#{status.nameMap.get(sessionBean.langId).name}" itemValue="#{status.id}" />
                </p:selectOneMenu>
            </div>
        </h:panelGroup>



        <div class="ui-g-12 ui-md-6 ui-lg-2">
            <p:outputLabel value="#{loc.taxno}" for="txtTaxNo" styleClass="Fs12 FontBold" />
            <p:inputText id="txtTaxNo" value="#{bean.selectedObject.taxNo}" placeholder="#{loc.taxno} " required="true" disabled="#{bean.selectedObject.isEmployee}">
                <p:keyFilter regEx="/[0-9]/"/>
            </p:inputText>
        </div>
        <div class="ui-g-12 ui-md-6 ui-lg-2">
            <p:outputLabel value="#{loc.taxoffice}" for="txtTaxOffice" styleClass="Fs12 FontBold"/>
            <p:inputText id="txtTaxOffice" value="#{bean.selectedObject.taxOffice}" placeholder="#{loc.taxoffice}"  disabled="#{bean.selectedObject.isEmployee}"/>
        </div>
        <div class="ui-g-12 ui-md-6 ui-lg-1">
            <p:outputLabel value="#{loc.creditlimit}" for="txtCreditLimit" styleClass="Fs12 FontBold" />
            <p:inputNumber id="txtCreditLimit" value="#{bean.selectedObject.creditlimit}" minValue="0"
                           decimalSeparator="#{sessionBean.user.lastBranch.decimalsymbol==1 ? '.': ','}" thousandSeparator="#{sessionBean.user.lastBranch.decimalsymbol==1 ? ',': '.'}" 
                           roundMethod="D"  symbolPosition="#{sessionBean.locale=='tr' ? 's': 'p'}" symbol="#{sessionBean.currencySignOrCode(sessionBean.user.lastBranch.currency.id, 0)}"
                           required="#{bean.selectedObject.isEmployee?false:true}" class="Wid90 TexAlRight" placeholder="#{loc.creditlimit}" disabled="#{bean.selectedObject.isEmployee?'true':'false'}" >                 
            </p:inputNumber>
        </div>

        <div class="ui-g-12 ui-md-6 ui-lg-2">
            <p:outputLabel value="#{loc.maximumexpriycount}" for="txtExpriyCount" class="Fs12 FontBold"/>
            <p:inputText id="txtExpriyCount" value="#{bean.selectedObject.isEmployee ? 0 : bean.selectedObject.maxExpiryCount}" placeholder="#{loc.maximumexpriycount} " disabled="#{bean.selectedObject.isEmployee}">
                <p:keyFilter regEx="/[0-9]/"/>
            </p:inputText>
        </div>
        <div class="ui-g-12 ui-md-6 ui-lg-2">
            <p:outputLabel value="#{loc.duedate} (#{loc.day})" for="txtDueDate" class="Fs12 FontBold"/>
            <p:inputText id="txtDueDate" value="#{bean.selectedObject.dueDay}" placeholder="#{loc.duedate}" disabled="#{bean.selectedObject.isEmployee}">
                <p:keyFilter regEx="/[0-9]/"/>
            </p:inputText>
        </div>

        <h:panelGroup rendered="#{bean.processType==1}">
            <div class="ui-g-12 ui-md-6 ui-lg-1">
                <p:outputLabel value="#{loc.transferbalance}" for="txtTransferBalance" styleClass="Fs12 FontBold" />
                <p:inputNumber id="txtTransferBalance" value="#{bean.selectedObject.transferBalance}"
                               decimalSeparator="#{sessionBean.user.lastBranch.decimalsymbol==1 ? '.': ','}" thousandSeparator="#{sessionBean.user.lastBranch.decimalsymbol==1 ? ',': '.'}" 
                               roundMethod="D"  symbolPosition="#{sessionBean.locale=='tr' ? 's': 'p'}" symbol="#{sessionBean.currencySignOrCode(sessionBean.user.lastBranch.currency.id, 0)}"
                               class="Wid90 TexAlRight" placeholder="#{loc.transferbalance}" >                 
                </p:inputNumber>
            </div>
        </h:panelGroup>



        <h:panelGroup id="PayerType" rendered="#{sessionBean.lastBranchSetting.isEInvoice and !bean.selectedObject.isEmployee}">
            <div class="ui-g-12 ui-md-6 ui-lg-1">
                <p:outputLabel value="#{loc.payertype}" for="slcPayerType" class="Fs12 FontBold"/>
                <p:selectOneMenu id="slcPayerType" value="#{bean.selectedObject.taxpayertype_id}" required="true" >
                    <f:selectItem itemLabel="#{loc.choose}" itemValue="#{null}"  />
                    <f:selectItem itemLabel="#{loc.einvoice}" itemValue="1"/>
                    <f:selectItem itemLabel="#{loc.earchive}" itemValue="2"/>
                </p:selectOneMenu>
            </div>  
        </h:panelGroup>





        <div class="ui-g-12 ui-md-6 ui-lg-1">
            <p:commandButton id="btnBuyFromIOP"  value="#{loc.buyfromIOP}" actionListener="#{bean.taxpayerİnquiryRequest()}" style="width: 100px; margin-top: 16%" rendered="#{sessionBean.lastBranchSetting.isEInvoice and !bean.selectedObject.isEmployee and bean.selectedObject.id !=1}"
                             process="@this" immediate="true"/> 
            <p:tooltip for="btnBuyFromIOP" value="#{loc.taxıdnumberisrequiredfortaxpayertypequeryofrevenueadministration}"   position="bottom"  /> 


        </div>
        <div class="ui-g-12 ui-md-12 ui-lg-12">
            <p:outputLabel value="#{loc.description}" for="txtDescription" class="FontBold Fs12"/>
            <p:inputTextarea id="txtDescription" value="#{bean.selectedObject.description}" 
                             autoResize="false" style="resize: none;" placeholder="#{loc.description}"/>
        </div>



        <div class="ui-g-12 ui-md-12 ui-lg-12">
            <h:outputText value="#{loc.communicationinformation}" styleClass="outputTextFont FontBold"/>
            <p:separator style="border-bottom-color: #c0c5c7 !important"/>
        </div>
        <div class="ui-g-12 ui-md-12 ui-lg-12" style="padding: 0px !important">
            <div class="ui-g-12 ui-md-6 ui-lg-2">
                <p:outputLabel value="#{loc.mail}" for="txtMail" class="Fs12 FontBold"/>
                <p:inputText id="txtMail" value="#{bean.selectedObject.email}"  placeholder="#{loc.mail} ">
                    <f:validator validatorId="emailValidator"/>
                </p:inputText>
            </div>
            <div class="ui-g-12 ui-md-12 ui-lg-6" style="padding: 0px !important">
                <div class="ui-g-12 ui-md-6 ui-lg-3">
                    <p:outputLabel value="#{loc.phone}" for="txtPhone" styleClass="Fs12 FontBold" />
                    <p:inputText id="txtPhone" value="#{bean.selectedObject.phone}" placeholder="#{loc.phone} ">
                        <f:validateRegex pattern="^[0-9]+$" />
                        <p:keyFilter regEx="/[0-9]/"/>
                    </p:inputText>
                </div>


                <h:panelGroup id="Alias" rendered="#{sessionBean.lastBranchSetting.isEInvoice and !bean.selectedObject.isEmployee}">
                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                        <p:outputLabel value="#{loc.alias}" for="txtAlias" class="Fs12 FontBold"/>
                        <p:inputText id="txtAlias" style="resize: none; " value="#{bean.selectedObject.tagInfo}" placeholder="#{loc.alias} "/>
                    </div>
                </h:panelGroup>

                <div class="ui-g-12 ui-md-6 #{sessionBean.lastBranchSetting.isEInvoice and !bean.selectedObject.isEmployee ? 'ui-lg-2' : 'ui-lg-3'}">
                    <p:outputLabel value="#{loc.country}" for="slcCountry" class="Fs12 FontBold" />
                    <p:selectOneMenu id="slcCountry" value="#{bean.selectedObject.country.id}" required="#{sessionBean.lastBranchSetting.isEInvoice and !bean.selectedObject.isEmployee}" filter="true" filterMatchMode="contains" >
                        <f:selectItem itemLabel="#{loc.choose}" itemValue="#{null}"  />
                        <f:selectItems value="#{sessionBean.countries}" var="country" itemLabel="#{country.getName(sessionBean.langId)}" itemValue="#{country.id}" /> 
                        <p:ajax listener="#{citiesAndCountiesBean.updateCity(bean.selectedObject.country,bean.selectedObject.city,bean.selectedObject.county)}" update="slcCity slcCounty" global="false"/>
                    </p:selectOneMenu>
                </div>
                <div class="ui-g-12 ui-md-6 #{sessionBean.lastBranchSetting.isEInvoice and !bean.selectedObject.isEmployee ? 'ui-lg-2' : 'ui-lg-3'}">
                    <p:outputLabel value="#{loc.city}" for="slcCity" class="Fs12 FontBold"/>
                    <p:selectOneMenu id="slcCity" value="#{bean.selectedObject.city.id}" required="#{sessionBean.lastBranchSetting.isEInvoice and !bean.selectedObject.isEmployee}" filter="true" filterMatchMode="contains" >
                        <f:selectItem itemLabel="#{loc.choose}" itemValue="#{null}" />
                        <f:selectItems value="#{citiesAndCountiesBean.cities}" itemLabel="#{city.getName(sessionBean.langId)}" itemValue="#{city.id}" var="city"/>
                        <p:ajax listener="#{citiesAndCountiesBean.updateCounty(bean.selectedObject.city.country,bean.selectedObject.city,bean.selectedObject.county)}" update="slcCounty" global="false"/>
                    </p:selectOneMenu>
                </div>
                <div class="ui-g-12 ui-md-6 #{sessionBean.lastBranchSetting.isEInvoice and !bean.selectedObject.isEmployee ? 'ui-lg-2' : 'ui-lg-3'}">
                    <p:outputLabel value="#{loc.county}" for="slcCounty" class="Fs12 FontBold" />
                    <p:selectOneMenu id="slcCounty" value="#{bean.selectedObject.county.id}" required="#{sessionBean.lastBranchSetting.isEInvoice and !bean.selectedObject.isEmployee}" filter="true" filterMatchMode="contains">
                        <f:selectItem itemLabel="#{loc.choose}" itemValue="#{null}" />
                        <f:selectItems value="#{citiesAndCountiesBean.counties}" itemLabel="#{county.name}" itemValue="#{county.id}" var="county"/>
                    </p:selectOneMenu>
                </div>
            </div>
            <div class="ui-g-12 ui-md-12 ui-lg-4">
                <p:outputLabel value="#{loc.address}" for="txtAddress" class="Fs12 FontBold"/>
                <p:inputText id="txtAddress" style="resize: none; " value="#{bean.selectedObject.address}" placeholder="#{loc.address} "/>
            </div>



        </div>

    </div>



</ui:composition>  
