<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">




    <h:form id="frmCategoryBookFilter"> 
        <ui:include src="/pages/general/common/tabgridtoolbar.xhtml">
            <ui:param name="bean" value="#{categoryBookFilterBean}"/>
            <ui:param name="btnNewId" value="false"/>
            <ui:param name="update" value="" />
            <ui:param name="outputtext" value="#{loc.categories}" />
        </ui:include>

        <h:panelGroup rendered="#{type=='report'}">
            <p:separator style="margin-top: 0px !important; margin-bottom: 5px;" class="allCheckSeparator"/>
            <p:panelGrid layout="grid" columns="1" class="allCheckPanelGrid" style="border-radius: 0px !important; border-bottom: 0px !important;">  
                <p:selectBooleanCheckbox  value="#{categoryBookFilterBean.isAll}" itemLabel="#{loc.all}" class="Fleft allcheck" style="margin-top: 2px; margin-left: 5px;">
                    <p:ajax global="false" oncomplete="#{categoryBookFilterBean.dialogId}" listener="#{updateBean.updateAllInformation()}"/>
                </p:selectBooleanCheckbox>
            </p:panelGrid>
        </h:panelGroup>
        <p:treeTable id="ttbCategory" scrollable="true"  scrollHeight="300" value="#{categoryBookFilterBean.root}"  var="category" selectionMode="single" selection="#{categoryBookFilterBean.selectedNode}" >    


            <p:ajax event="select" resetValues="true"  update="#{categoryBookFilterBean.update}"  oncomplete="#{categoryBookFilterBean.dialogId}" listener="#{updateBean.updateAllInformation()}" />

            <p:column id="clmName" headerText="#{loc.categoryname}">
                <h:outputText value="#{category.name}" />
            </p:column>

        </p:treeTable>
    </h:form>
</ui:composition>
