<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">


    <h:form id="#{form}"> 

        <ui:include src="/pages/general/common/tabgridtoolbar.xhtml">
            <ui:param name="bean" value="#{bean}"/>
            <ui:param name="btnNewId" value="#{updateBean.getRendered(newButtonID, 0)}"/>
            <ui:param name="update" value="#{formDialog}" />
            <ui:param name="outputtext" value="#{outputtext}" />
            <ui:param name="btnOk" value='true' />
        </ui:include>

        <h:panelGroup rendered="#{type=='reportcheckbox'}">
            <p:separator style="margin-top: 0px !important; margin-bottom: 5px;" class="allCheckSeparator"/>
            <div class="ui-g  allCheckPanelGrid" style="display: block; border-bottom : 0px !important; border-radius: 0px !important; box-shadow: none !important; padding: 0px !important">
                <p:selectBooleanCheckbox  value="#{filterBean.isAll}" itemLabel="#{loc.all}" class="Fleft allcheck" style="margin-top: 2px; margin-left: 5px; padding: 1px 10px !important;">
                    <p:ajax global="false"/>
                </p:selectBooleanCheckbox>
                <p:commandButton class="btnClear" value="#{loc.clear}" title="#{loc.clearselected}" actionListener="#{filterBean.clearSelected()}" icon="ui-icon-trash"  process="@this" style="margin-top: 1px;" />
            </div>
        </h:panelGroup>


        <p:dataTable  id="dtbFilter" var="data" widgetVar="filterPF"  transient="true"  value="#{filterBean.dataList}"  selection="#{filterBean.selectedDataList}" emptyMessage="#{loc.norecordsfound}"
                      rows="10" rowKey="#{data.id}" paginator="true" paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {CurrentPageReport}"
                      reflow="true" class="tabDatatable" rowsPerPageTemplate="10,15,20" paginatorPosition="bottom" currentPageReportTemplate="{startRecord}-{endRecord} #{loc.intotal} {totalRecords}" 
                      >

            <p:ajax event="rowSelectCheckbox" listener="#{filterBean.changeSelected()}" />
            <p:ajax event="rowUnselectCheckbox" listener="#{filterBean.changeSelected()}"/>
            <p:ajax event="rowUnselect" listener="#{filterBean.changeSelected()}" />
            <p:ajax event="toggleSelect" listener="#{filterBean.changeSelected()}" />
            <p:column selectionMode="multiple" style="width:26px;text-align:center" selectRow="false"/>
            <p:column headerText="#{header1}" rendered="#{columnsize>=1}" selectRow="false">
                <h:outputText value="#{value1}" />
            </p:column>
            <p:column headerText="#{header2}"  rendered="#{columnsize>=2}" selectRow="false">
                <h:outputText value="#{value2}" />
            </p:column>
            <p:column headerText="#{header3}" rendered="#{columnsize>=3}" selectRow="false">
                <h:outputText value="#{value3}" />
            </p:column>
            <p:column headerText="#{header4}" rendered="#{columnsize>=4}" selectRow="false">
                <h:outputText value="#{value4}" />
            </p:column>
            <p:column headerText="#{header5}" rendered="#{columnsize>=5}" selectRow="false">
                <h:outputText value="#{value5}" />
            </p:column>

        </p:dataTable>  
    </h:form>
</ui:composition>
