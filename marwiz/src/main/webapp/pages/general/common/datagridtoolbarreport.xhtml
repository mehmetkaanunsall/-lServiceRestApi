<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:pe="http://primefaces.org/ui/extensions">
    <!--
    outputText: Toolbar başlığı
    bean:Hangi sayfada kullanılcaksa o sayfanın Bean i
    datatable: kullanılan sayfadaki datatable in id si
    fileName: excel pdf için oluşturulacak dosyanın adı
    renderedBack:geri butonunun yetki kontrolü
    renderedToggler: Grid kolonları açıp kapatma butonunun yetki kontrolü
    renderedExcel:excel butonunun yetki kontrolü
    renderedPdf: pdf butonunun yetki kontrolü
    renderedPrint: yazdır butonunun yetki kontrolü 
    renderedGraphic: grafik butonunun yetki kontrolü 
    renderedOutputText: başlık yetki kontrolü 
    renderedAdd: artı butonunun yetki kontrolü 
    -->
    <h:form id="frmGridToolbar" >

        <p:remoteCommand name="exportLimitMessege"  action="#{bean.showLimitMessege()}" />
        <p:remoteCommand name="waitToExportPdf"   actionListener="#{bean.waitToExportPdf()}"   />
        <p:remoteCommand name="waitToExportExcel"   actionListener="#{bean.waitToExportExcel()}"   />
        <p:remoteCommand name="exportLimitMessegeForExcel"  action="#{bean.showLimitMessegeForExcel()}" />


        <p:toolbar>
            <f:facet name="left">

                <p:commandLink title="#{loc.back}" class="Fleft" rendered="#{renderedBack}"   immediate="true"  >
                    <i class="icon-reply-outline Fs20 tlbrBackBtn"/>    
                    <f:actionListener  binding="#{marwiz.gotoBackActionListener()}"/>
                </p:commandLink>

                <p:commandLink id="btnAdd" actionListener="#{bean.create}" resetValues="true" rendered="#{renderedAdd}" title="#{loc.new}"  class="Fleft tlbrIcon" process="@this" >
                    <i class="icon-plus tlbrAddBtn Fs23" />
                </p:commandLink> 
                <p:commandLink  title="#{loc.fromcustomertocustomertransaction}" rendered="#{renderedCustomerMovementDlg}" actionListener="#{bean.showCustomerMovementDialog}" class="Fleft" process="@this" resetValues="true">
                    <i class="fa fa-bolt tlbrBackBtn Fs20 MarTop6" />
                </p:commandLink> 
                <p:commandLink  title="#{loc.transfertocommissionaccount}" rendered="#{renderedBankAccountCommission}" actionListener="#{bean.createBankAccountCommission()}" class="Fleft" process="@this" resetValues="true">
                    <i class="fa fa-exchange tlbrBackBtn Fs20 MarTop6" />
                </p:commandLink> 
                <h:outputText value="#{outputText}" rendered="#{renderedOutputText}"   class="outputTextFont Fleft MarRight8" ></h:outputText>

            </f:facet> 
            <f:facet name="right">

                <p:commandButton class="Fleft sendIntegrationBtn" style="margin: 5px 15px 5px 5px;" icon="fa fa-paper-plane" value="#{loc.sendall}" process="@form"  rendered="#{renderedIntegrationAllStocks}" oncomplete="PF('dlg_SendAllStocks').show()"/>

                <p:commandLink class="Fleft" rendered="#{renderedIntegrationRemoveFromSale}" title="#{loc.removefromsale}" actionListener="#{bean.removeStocksFromSale()}" >
                    <i class="fa fa-times-circle Fs20 tlbrUploadBtn MarRight10" style="margin-top: 5px;" />      
                </p:commandLink>

                <p:commandLink class="Fleft" rendered="#{renderedIntegration}" title="#{loc.send}" actionListener="#{bean.sendIntegration()}" >
                    <i class="fa fa-paper-plane Fs20 tlbrUploadBtn MarRight5" style="margin-top: 5px;" />      
                </p:commandLink>

                <p:commandLink class="Fleft" rendered="#{renderedStatus}" title="#{loc.queryshippingstatus}" actionListener="#{bean.invoiceStatusInquiry()}" >
                    <i class="fa fa-sign-in Fs23 tlbrUploadBtn MarRight5" style="margin-top: 5px;" />      
                </p:commandLink>

                <p:commandLink class="Fleft" rendered="#{renderedAddArchive}" title="#{loc.putintoanarchive}" actionListener="#{bean.addArchive()}" >
                    <i class="fa fa-archive Fs20 tlbrUploadBtn MarRight5" style="margin-top: 7px;" />      
                </p:commandLink>

                <p:commandLink class="Fleft" rendered="#{renderedUnArchive}" title="#{loc.unarchive}" actionListener="#{bean.unArchive()}" >
                    <i class="fa fa-undo Fs20 tlbrUploadBtn MarRight5" style="margin-top: 7px;" />      
                </p:commandLink>




                <p:commandLink class="Fleft" rendered="#{renderedPrintSummary}" title="#{loc.printsummary}" oncomplete="test()">
                    <i class="fa fa-pencil-square-o Fs27 tlbrUploadBtn" style="margin-top: 5px;" />       
                    <p:printer target="#{printSummaryField}"/>       
                </p:commandLink>

                <p:commandLink  title="#{loc.fileupload}" process="@this" immediate="true" rendered="#{btnImport}" class="Fleft" onclick="PF('dlg_shiftfileupload').show();"  >
                    <i class="fa fa-cloud-upload tlbrUploadBtn Fs23" style="margin-top: 5px;" />                 
                </p:commandLink>

                <p:commandLink actionListener="#{bean.unlock}" resetValues="true" rendered="#{renderedUnlock}" title="#{textUnlock}"  class="Fleft tlbrIcon MarRight8" process="@this" >
                    <i class="fa fa-unlock-alt tlbrBackBtn Fs24 MarTop6" />
                </p:commandLink> 

                <p:commandLink actionListener="#{bean.stockView}" resetValues="true" rendered="#{renderedStockView}" title="#{textStockView}" class="Fleft tlbrIcon MarRight8" process="@this" >
                    <i class="fa fa-list-alt tlbrBackBtn Fs24 MarTop6" />
                </p:commandLink> 

                <h:panelGroup id="pgrExporter" class="panelGridNoBorder">
                    <h:commandLink id="btnExcel" title="#{loc.transfertoexcel}"  class ="tlbrIcon"  onclick="if (count > 300000) {
                                exportLimitMessegeForExcel();
                                return false;
                            } else {
                                waitToExportExcel();
                            }"  rendered="#{renderedExcel and bean.renderExportButton}" actionListener="#{bean.createExcel()}">
                        <i class="icon-file-excel tlbrExcelBtn Fs23"  />
                    </h:commandLink>  
                    <h:commandLink id="btnPdf"    title="#{loc.transfertopdf}"  class ="Fleft tlbrIcon "  onclick="if (count > 60000) {
                                exportLimitMessege();
                                return false;
                            } else {
                                waitToExportPdf();
                            }"  rendered="#{renderedPdf and bean.renderExportButton}"  actionListener="#{bean.createPdf()}" >
                        <i class="icon-file-pdf tlbrPdfBtn Fs23"  />
                    </h:commandLink>

                    <h:commandLink id="btnPdfReport"    title="#{loc.transfertopdf}"  class ="Fleft tlbrIcon " rendered="#{renderedReportPdf and bean.renderExportButton}"  actionListener="#{bean.createPdf()}" >
                        <i class="icon-file-pdf tlbrPdfBtn Fs23"  />
                    </h:commandLink>

                    <h:commandLink id="btnExcelReport"    title="#{loc.transfertoexcel}"  class ="Fleft tlbrIcon " rendered="#{renderedReportExcel and bean.renderExportButton}"  actionListener="#{bean.createExcel()}" >
                        <i class="icon-file-excel tlbrExcelBtn Fs23"  />
                    </h:commandLink>






<!--  <h:commandLink id="btnExcel" title="#{loc.transfertoexcel}"  class ="Fleft tlbrIcon" rendered="#{renderedExcel and bean.renderExportButton}">
    <i class="icon-file-excel tlbrExcelBtn Fs23"  />
    <p:dataExporter type="xls" target="#{datatable}" fileName="#{bean.encodeFileNameForExportData(fileName)}" postProcessor="#{bean.postProcessXLS}" options="#{bean.excelOptions}"/>  
</h:commandLink>  
<h:commandLink id="btnPdf" title="#{loc.transfertopdf}"  class ="Fleft tlbrIcon "  rendered="#{renderedPdf and bean.renderExportButton}">
    <i class="icon-file-pdf tlbrPdfBtn Fs23"  />
    <pe:exporter type="pdf" target="#{datatable}" fileName="#{bean.encodeFileNameForExportDataPdf(fileName)}" orientation="Landscape" 
                 facetBackground="#000000" facetFontSize="11" facetFontColor="#FFFFFF" facetFontStyle="BOLD"  
                 cellFontColor="#000000" cellFontSize="11" cellFontStyle="NORMAL" encoding="Cp1254" />  
</h:commandLink>-->
                </h:panelGroup>
                <h:panelGroup id="pgrPrinter">
                    <p:commandLink id="btnPrint" actionListener="#{bean.createPrinter()}" title="#{loc.print}" onclick="if (count > 60000) {
                                exportLimitMessege();
                                return false;
                            }" class ="tlbrIcon" rendered="#{renderedPrint and  bean.renderExportButton}">
                        <i class="icon-print Fs23 tlbrSaveBtn"/>  
                    </p:commandLink>        
                </h:panelGroup>    


                <p:commandLink id="btnGraphic" title="#{loc.report}" class ="tlbrIcon" rendered="#{renderedGraphic}"  process="@form" update="dlgGraphic" oncomplete="PF('dlg_graphic').show()"  >  
                    <i class="icon-chart-bar-2 Fs23 tlbrGraphicBtn"/>  
                </p:commandLink>
                <p:commandLink id="btnToggler" title="#{loc.editcolumns}" global="false" rendered="#{renderedToggler}"   class="Fright tlbrIcon">
                    <i class="icon-list tlbrColumnBtn Fs23"  />
                </p:commandLink>
                <p:columnToggler id="toggle" datasource="#{datatable}" rendered="#{renderedToggler}" trigger="btnToggler" >
                    <p:ajax event="toggle" listener="#{bean.onToggle}" global="false" update="pgrExporter #{datatable} pgrPrinter"/>
                </p:columnToggler>

                <p:commandLink id="toolbarIconMenu"  title="#{loc.processes}" class="Fright tlbrIconMenu display-none">
                    <i class="icon-th-1 Fs23"></i>
                </p:commandLink>

                <!-- kurları çekme butonu -->
                <p:commandLink id="btnExchange" title="#{loc.getexchangerates}" rendered="#{exchange}" class="Fright" actionListener="#{bean.exchangeRate()}" >
                    <i class="fa fa-arrow-down Fs20 MarTop5 tlbrSaveBtn"/>                 
                </p:commandLink>


                <p:menu  overlay="true" trigger="toolbarIconMenu" class="Wid20 tlbrResponsiveMenu" my="right top" at="right bottom">

                    <p:menuitem rendered="#{renderedExcel and bean.renderExportButton}" onclick="$('#frmGridToolbar\\:btnExcel').click();"><i class="icon-file-excel Fs23 marginLevel-1 tlbrExcelBtn"/></p:menuitem>
                    <p:menuitem rendered="#{renderedPdf and bean.renderExportButton}" onclick="$('#frmGridToolbar\\:btnPdf').click();"><i class="icon-file-pdf Fs23 marginLevel-1 tlbrPdfBtn "/></p:menuitem>
                    <p:menuitem rendered="#{renderedPrint}" onclick="$('#frmGridToolbar\\:btnPrint').click();"><i class="icon-print Fs23 marginLevel-1 tlbrSaveBtn"/></p:menuitem>
                    <p:menuitem rendered="#{renderedGraphic}" onclick="$('#frmGridToolbar\\:btnGraphic').click();"><i class="icon-chart-bar-2 Fs23 marginLevel-1 tlbrGraphicBtn"/></p:menuitem>

                </p:menu>
            </f:facet>

        </p:toolbar>

       <!-- <p:remoteCommand name="order" actionListener="#{bean.bringOrder(datatable)}" oncomplete="updateToggle()" autoRun="true"  global="false" />
        <p:remoteCommand name="updateToggle"  update="frmGridToolbar:toggle" delay="500" global="false" /> -->

    </h:form> 
    <script>

        var count = 0;

    </script>   



</ui:composition> 
