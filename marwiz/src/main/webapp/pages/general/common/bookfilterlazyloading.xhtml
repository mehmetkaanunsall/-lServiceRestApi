<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:form id="#{form}"  transient="true" >  
        <ui:include src="/pages/general/common/datagridtoolbarbookfilter.xhtml">
            <ui:param name="bean" value="#{bean}"/>                                      <!--  -->
            <ui:param name="filterBean" value='#{filterBean}' />                         <!-- Listeye verinin cekileceği bean örn:PersonbookFilterBean -->
            <ui:param name="datatable" value="#{form}:dtbFilter" />                      <!-- datatable  -->
            <ui:param name="type" value='#{type}' />  
            <ui:param name="update" value='#{dialog}' />          <!-- hangi sayfadan geldiğimiz.Dao tarafında ayırt etmek için. Örn:employee,account.. -->
            <ui:param name="parameters" value='#{parameters}' />                         <!-- sorguda kullanılacak parametreler Örn:Employee objesi -->
            <ui:param name="btnOk" value='false' />
            <ui:param name="btnNewId" value="#{newButton}"/>
        </ui:include>


        <h:panelGroup rendered="#{type=='report'}">
            <p:separator style="margin-top: 0px !important; margin-bottom: 5px;" class="allCheckSeparator"/>
            <p:panelGrid layout="grid" columns="1" class="allCheckPanelGrid" style="border-radius: 0px !important; border-bottom: 0px !important;">  
                <p:selectBooleanCheckbox  value="#{filterBean.isAll}" itemLabel="#{loc.all}" class="Fleft allcheck" style="margin-top: 2px; margin-left: 5px;">
                    <p:ajax global="false" oncomplete="#{filterBean.dialogId}" listener="#{updateBean.updateAllInformation()}"/>
                </p:selectBooleanCheckbox>
            </p:panelGrid>
        </h:panelGroup>
        
        <h:panelGroup rendered="#{type=='automationdevice' || type=='Personel' || type=='stockprocess'}">
            <p:separator style="margin-top: 0px !important; margin-bottom: 5px;" class="allCheckSeparator"/>
            <p:panelGrid layout="grid" columns="1" class="allCheckPanelGrid" style="border-radius: 0px !important; border-bottom: 0px !important;">  
                <p:selectBooleanCheckbox  value="#{filterBean.isAll}" itemLabel="#{loc.nott}" class="Fleft allcheck" style="margin-top: 2px; margin-left: 5px;">
                    <p:ajax global="false" oncomplete="#{filterBean.dialogId}" listener="#{updateBean.updateAllInformation()}"/>
                </p:selectBooleanCheckbox>
            </p:panelGrid>
        </h:panelGroup>
        
        <p:dataTable  id="dtbFilter" var="data" widgetVar="filterPF"  transient="true"  value="#{filterBean.dataListLazyLoading}"  selection="#{filterBean.selectedData}"  selectionMode="single" emptyMessage="#{loc.norecordsfound}"
                      rows="10" rowKey="#{data.id}" paginator="true" paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {CurrentPageReport}"
                      reflow="true" class="tabDatatable" lazy="true" rowsPerPageTemplate="10,15,20" paginatorPosition="bottom" currentPageReportTemplate="{startRecord}-{endRecord} #{loc.intotal} {totalRecords}" 
                      rowStyleClass="#{bookname=='stockbook' and data.status.id==4 ? 'ColumnColorRed' : null}">
            <p:ajax    event="#{sessionBean.user.gridRowSelect}" resetValues="true"    async="true" oncomplete="#{filterBean.dialogId}" listener="#{updateBean.updateAllInformation()}" />

            <p:column headerText="#{header1}" rendered="#{columnsize>=1}" >
                <h:outputText value="#{value1}" />
            </p:column>
            <p:column headerText="#{header2}"  rendered="#{columnsize>=2}" >
                <h:outputText value="#{value2}" />
            </p:column>
            <p:column headerText="#{header3}" rendered="#{columnsize>=3}">
                <h:outputText value="#{value3}" />
            </p:column>
            <p:column headerText="#{header4}" rendered="#{columnsize>=4}">
                <h:outputText value="#{value4}" />
            </p:column>
            <p:column headerText="#{header5}" rendered="#{columnsize>=5}">
                <h:panelGroup rendered="#{renderedNumberColumn}">
                    <h:outputText value="#{value5}" class="Fright">
                        <f:converter converterId="currencyConverter" />
                        <f:attribute name="type" value="" />
                    </h:outputText>
                </h:panelGroup>
                <h:panelGroup rendered="#{!renderedNumberColumn}">
                    <h:outputText value="#{value5}" />
                </h:panelGroup>
            </p:column>

        </p:dataTable>  
    </h:form>
</ui:composition>
