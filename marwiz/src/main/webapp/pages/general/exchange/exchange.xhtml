<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">



    <ui:include src="/pages/general/common/datagridtoolbarreport.xhtml" >
        <ui:param name="bean" value="#{exchangeBean}"/>   <!-- Bean -->
        <ui:param name="datatable" value='frmExchange:dtbExchange'/>
        <ui:param name="renderedOutputText" value='true'/>
        <ui:param name="outputText" value="#{loc.exchangeratesprocess}"/>
        <ui:param name="exchange" value='true'/>
        <ui:param name="renderedPrint" value='false'/>
        <ui:param name="renderedGraphic" value='false'/>
        

    </ui:include>

    <h:form id="frmExchange">
        <p:dataTable  id="dtbExchange" var="exc" widgetVar="ExchangePF"  value="#{exchangeBean.listOfObjects}" emptyMessage="#{loc.norecordsfound}"
                      selection="#{exchangeBean.selectedObject}" selectionMode="single" sortBy="#{exc.exchangeDate}" sortOrder="descending" expandableRowGroups="true" class="rowGroupTable"
                      rows="#{sessionBean.user.defualtGridSize}" rowKey="#{exc.id}" paginator="true" paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {CurrentPageReport}"
                      rowsPerPageTemplate="#{sessionBean.user.gridSize}" paginatorPosition="bottom" currentPageReportTemplate="{startRecord}-{endRecord} #{loc.intotal} {totalRecords}"  reflow="true" 
                      >
            
             <p:ajax event="colReorder" listener="#{exchangeBean.reorder}" update="frmGridToolbar:toggle" />     
                        <p:ajax event="colResize"  listener="#{exchangeBean.onResize}" />

            <p:headerRow>
                <p:column colspan="3">
                    <h:outputText value="#{loc.date} : " />
                    <h:outputText value="#{exc.exchangeDate}">
                        <f:convertDateTime pattern="#{sessionBean.user.lastBranch.dateFormat} HH:mm:ss" />
                    </h:outputText>
                </p:column>
            </p:headerRow>

            <p:column id="exchangedt" headerText="#{loc.date}" >
                <h:outputText value="#{exc.exchangeDate}">
                    <f:convertDateTime pattern="#{sessionBean.user.lastBranch.dateFormat} HH:mm:ss" />
                </h:outputText>
            </p:column>

            <p:column id="exchangecurrencyid" headerText="#{loc.exchangetype}"  >
                <h:outputText value="#{exc.currency.sign} - #{exc.currency.tag} " />
            </p:column> 

            <p:column id="exchangebuy" headerText="#{loc.forexbuying}"  >
                <h:outputText value="#{exc.buying}" style="float: right;" >
                    <f:converter converterId="currencyConverter" />
                    <f:attribute name="currency" value="#{sessionBean.user.lastBranch.currency}"/>
                    <f:attribute name="type" value="currency" />
                </h:outputText>
            </p:column> 

            <p:column id="exchangesale" headerText="#{loc.forexselling}"  >
                <h:outputText value="#{exc.sales}" style="float: right;" >
                    <f:converter converterId="currencyConverter" />
                    <f:attribute name="currency" value="#{sessionBean.user.lastBranch.currency}"/>
                    <f:attribute name="type" value="currency" />
                </h:outputText>
            </p:column>

        </p:dataTable>  

    </h:form>   


</ui:composition>