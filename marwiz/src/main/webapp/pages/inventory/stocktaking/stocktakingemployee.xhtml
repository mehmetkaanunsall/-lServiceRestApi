<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pe="http://primefaces.org/ui/extensions" 
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <div class="ContainerIndent"> 
        <ui:include src="/pages/general/common/datagridtoolbardefinition.xhtml" >
            <ui:param name="bean" value="#{stockTakingEmployeeBean}"/>  
            <ui:param name="update" value=""/> 
            <ui:param name="btnNewId" value="false"/> 
            <ui:param name="datatable" value="frmStockTakingEmployee:dtbStockTakingEmployee" />      
            <ui:param name="widgetvar" value='stockTakingEmployeePF' />
            <ui:param name="form" value='frmToolbarStockTakingEmployee' />
            <ui:param name="fileName" value='#{loc.employees}' />
            <ui:param name="renderedToggler" value='false'/>       
            <ui:param name="renderedExel" value='false'/>
            <ui:param name="renderedPdf" value='false'/>
            <ui:param name="renderedSave" value="true"/> 
        </ui:include>

        <h:form id="frmStockTakingEmployee" >
            <h:panelGroup >
                <p:panelGrid layout="grid" columns="1" class="allCheckPanelGrid" style="border-radius: 0px !important; border-bottom: 0px !important;">  
                    <p:selectBooleanCheckbox  value="#{stockTakingEmployeeBean.isAll}" itemLabel="#{loc.all}"   class="Fleft allcheck" style="margin-top: 2px; margin-left: 5px;">
                        <p:ajax global="false"  listener="#{stockTakingEmployeeBean.setIsAll()}" />
                    </p:selectBooleanCheckbox>
                </p:panelGrid>
            </h:panelGroup>

            <p:dataTable id="dtbStockTakingEmployee" widgetVar="stockTakingEmployeePF"  var="StockTakingEmployee" value="#{stockTakingEmployeeBean.listOfObjects}" filteredValue="#{stockTakingEmployeeBean.listOfFilteredObjects}"  
                         selection="#{stockTakingEmployeeBean.listOfSelectedObjects}"
                         rowKey="#{StockTakingEmployee.account.id}" rows="10" paginator="true" paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {CurrentPageReport}"
                         rowsPerPageTemplate="10,15,20" paginatorPosition="bottom" currentPageReportTemplate="{startRecord}-{endRecord} #{loc.intotal} {totalRecords}"
                         emptyMessage="#{loc.norecordsfound}" class=" uncountedStocksDatatable"  >



                <p:ajax event="page" global="false"/>
                <p:ajax event="filter" global="false"/>
                <p:ajax event="rowSelectCheckbox" global="false" listener="#{stockTakingEmployeeBean.selectEmployee()}" />
                <p:ajax event="rowUnselectCheckbox" global="false" listener="#{stockTakingEmployeeBean.selectEmployee()}" />
                <p:ajax event="toggleSelect" global="false" listener="#{stockTakingEmployeeBean.selectEmployee()}" />
                <p:column selectionMode="multiple" style="text-align:center;" selectRow="false"/>


                <f:facet  name="footer"     >
                    <p:inputText id="globalFilter" value="#{stockTakingEmployeeBean.autoCompleteValue}"  style="display: none" />
                </f:facet>

                <p:column headerText="#{loc.employee}" selectRow="false" sortBy="#{StockTakingEmployee.account.name} #{StockTakingEmployee.account.title}" sortable="true" filterable="true"  filterBy="#{StockTakingEmployee.account.name} #{StockTakingEmployee.account.title}" filterMatchMode="contains">
                    <f:facet name="filter">
                        <p:outputLabel   rendered="false" />
                    </f:facet> 
                    <h:outputText value="#{StockTakingEmployee.account.name} #{StockTakingEmployee.account.title}" />
                </p:column>
                <p:column headerText="#{loc.total}" selectRow="false">
                    <p:inputNumber id="txtPrice" decimalSeparator="#{sessionBean.user.lastBranch.decimalsymbol==1? '.': ','}"  
                                       thousandSeparator="#{sessionBean.user.lastBranch.decimalsymbol==1? ',': '.'}" 
                                       roundMethod="D" decimalPlaces="#{sessionBean.user.lastBranch.currencyrounding}" readonly="true"
                                       value="#{StockTakingEmployee.price}" symbolPosition="#{sessionBean.locale=='tr' ? 's': 'p'}" symbol="#{sessionBean.currencySignOrCode(sessionBean.user.lastBranch.currency.id, 0)}"  class="Fright Wid80"  required="true">
                    </p:inputNumber>
                </p:column>
               
            </p:dataTable>
            <div class="EmptyBox10" />
          
        </h:form>
    </div>


</ui:composition>