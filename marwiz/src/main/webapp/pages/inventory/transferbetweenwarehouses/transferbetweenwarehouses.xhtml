<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">


    <ui:include src="/pages/general/common/datagridtoolbar.xhtml" >
        <ui:param name="bean" value="#{transferBetweenWarehouseBean}"/> 
        <ui:param name="update" value=""/>
        <ui:param name="btnNewId" value="#{transferBetweenWarehouseBean.getRendered(317, 0)}"/>
        <ui:param name="datatable" value="frmWarehouseTransfer:dtbWarehouseTransfer" /> 
        <ui:param name="dtbWidgetVar" value="warehouseTransferPF" /> 
        <ui:param name="fileName" value="#{loc.trasferbetweenwarehouses}"/>,
        <ui:param name="renderedFilter" value='true'/>
        <ui:param name="renderedToggler" value='true'/>
        <ui:param name="renderedExel" value='true'/>
        <ui:param name="renderedPdf" value='true'/>
        <ui:param name="renderedAdd" value='true'/>
    </ui:include>

    <h:form id="frmWarehouseTransfer">

        <p:dataTable  id="dtbWarehouseTransfer" widgetVar="warehouseTransferPF" selectionMode="single" var="warehouseTransfer" rowKey="#{warehouseTransfer.id}" value="#{transferBetweenWarehouseBean.listOfObjects}" selection="#{transferBetweenWarehouseBean.selectedObject}" emptyMessage="#{loc.norecordsfound}"
                      paginator="true" paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {CurrentPageReport}"
                      paginatorPosition="bottom" currentPageReportTemplate="{startRecord}-{endRecord} #{loc.intotal} {totalRecords}" 
                      reflow="true" lazy="true" rowsPerPageTemplate="#{sessionBean.user.gridSize}" rows="#{sessionBean.user.defualtGridSize}" >

            <p:ajax event="#{sessionBean.user.gridRowSelect}" resetValues="true"  listener="#{transferBetweenWarehouseBean.update()}" />

            <p:column id="clmReceiptNumber" headerText="#{loc.warehousereceiptno}" visible="#{transferBetweenWarehouseBean.toogleList[0]}" exportable="#{transferBetweenWarehouseBean.toogleList[0]}" sortable="true" sortBy="#{warehouseTransfer.wht.receiptnumber}">
                <h:outputText value="#{warehouseTransfer.receiptNumber}" />
            </p:column>

            <p:column id="clmWarehouseName" headerText="#{loc.warehousename}" visible="#{transferBetweenWarehouseBean.toogleList[1]}" exportable="#{transferBetweenWarehouseBean.toogleList[1]}" sortable="true" sortBy="#{warehouseTransfer.wh.name}">
                <h:outputText value="#{warehouseTransfer.warehouseReceipt.warehouse.name}" />
            </p:column>

             <p:column id="clmWarehouseName2" headerText="#{loc.warehousename}2" visible="#{transferBetweenWarehouseBean.toogleList[2]}" exportable="#{transferBetweenWarehouseBean.toogleList[2]}" sortable="true" sortBy="#{warehouseTransfer.wh2.name}">
                <h:outputText value="#{warehouseTransfer.transferWarehouseReceipt.warehouse.name}" />
            </p:column>
            
            <p:column id="clmProcessDate" headerText="#{loc.processdate}" visible="#{transferBetweenWarehouseBean.toogleList[3]}" exportable="#{transferBetweenWarehouseBean.toogleList[3]}" sortable="true" sortBy="#{warehouseTransfer.wht.processdate}">
                <h:outputText value="#{warehouseTransfer.processDate}" >
                    <f:convertDateTime pattern="#{sessionBean.user.lastBranch.dateFormat} HH:mm:ss" />
                </h:outputText>
            </p:column>


        </p:dataTable>  
    </h:form>

</ui:composition>



