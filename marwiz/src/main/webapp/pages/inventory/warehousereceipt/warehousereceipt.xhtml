<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">


    <ui:include src="/pages/general/common/datagridtoolbar.xhtml" >
        <ui:param name="bean" value="#{warehouseReceiptBean}"/> 
        <ui:param name="update" value=""/>
        <ui:param name="btnNewId" value="#{warehouseReceiptBean.getRendered(31, 0)}"/>
        <ui:param name="datatable" value="frmWarehouseReceipt:dtbWarehouseReceipt" /> 
        <ui:param name="dtbWidgetVar" value="warehouseReceiptPF" /> 
        <ui:param name="fileName" value="#{loc.warehousereceipts}"/>,
        <ui:param name="renderedFilter" value='true'/>
        <ui:param name="renderedToggler" value='true'/>
        <ui:param name="renderedExel" value='true'/>
        <ui:param name="renderedPdf" value='true'/>
        <ui:param name="renderedAdd" value='true'/>
        <ui:param name="renderedIsDirection" value='true'/>
        <ui:param name="gridId" value=""/>
    </ui:include>

    <h:form id="frmWarehouseReceipt">

        <p:dataTable  id="dtbWarehouseReceipt" widgetVar="warehouseReceiptPF" selectionMode="single" var="WarehouseReceipt" rowKey="#{WarehouseReceipt.id}" value="#{warehouseReceiptBean.listOfObjects}" selection="#{warehouseReceiptBean.selectedObject}" emptyMessage="#{loc.norecordsfound}"
                      paginator="true" paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {CurrentPageReport}"
                      paginatorPosition="bottom" currentPageReportTemplate="{startRecord}-{endRecord} #{loc.intotal} {totalRecords}" 
                      reflow="true" lazy="true" rowsPerPageTemplate="#{sessionBean.user.gridSize}" rows="#{sessionBean.user.defualtGridSize}" >

            <p:ajax event="#{sessionBean.user.gridRowSelect}" resetValues="true"  listener="#{warehouseReceiptBean.update()}" global="false" />
              <p:ajax event="colReorder" listener="#{warehouseReceiptBean.reorder}" update="frmGridToolbar:toggle" />     
            <p:ajax event="colResize"  listener="#{warehouseReceiptBean.onResize}" />

            <p:column id="clmReceiptNumber" headerText="#{loc.warehousereceiptno}" visible="#{warehouseReceiptBean.toogleList[0]}" exportable="#{warehouseReceiptBean.toogleList[0]}" sortable="true" sortBy="#{WarehouseReceipt.whr.receiptnumber}">
                <h:outputText value="#{WarehouseReceipt.receiptNumber}" />
            </p:column>

            <p:column id="clmWarehouseName" headerText="#{loc.warehousename}" visible="#{warehouseReceiptBean.toogleList[1]}" exportable="#{warehouseReceiptBean.toogleList[1]}" sortable="true" sortBy="#{WarehouseReceipt.wh.name}">
                <h:outputText value="#{WarehouseReceipt.warehouse.name}" />
            </p:column>

            <p:column id="clmEntryExit" headerText="#{loc.entry} / #{loc.exit}" visible="#{warehouseReceiptBean.toogleList[2]}" exportable="#{warehouseReceiptBean.toogleList[2]}" sortable="true" sortBy="#{WarehouseReceipt.whr.is_direction}">
                <h:outputText value="#{WarehouseReceipt.isDirection ? loc.entry : loc.exit}" />
            </p:column>
            <p:column id="clmType" headerText="#{loc.type}" visible="#{warehouseReceiptBean.toogleList[3]}" exportable="#{warehouseReceiptBean.toogleList[3]}" sortable="true"  sortBy="#{WarehouseReceipt.typd.name}">
                <h:outputText value="#{WarehouseReceipt.isDirection and WarehouseReceipt.type.id == 61 ? loc.purchasereceipt : WarehouseReceipt.type.tag}" />
            </p:column>
            <p:column id="clmProcessDate" headerText="#{loc.processdate}" visible="#{warehouseReceiptBean.toogleList[4]}" exportable="#{warehouseReceiptBean.toogleList[4]}" sortable="true" sortBy="#{WarehouseReceipt.whr.processdate}">
                <h:outputText value="#{WarehouseReceipt.processDate}" >
                    <f:convertDateTime pattern="#{sessionBean.user.lastBranch.dateFormat} HH:mm:ss" />
                </h:outputText>
            </p:column>


        </p:dataTable>  
    </h:form>

</ui:composition>



