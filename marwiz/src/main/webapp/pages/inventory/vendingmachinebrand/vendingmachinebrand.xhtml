<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:include src="/pages/general/common/datagridtoolbardefinition.xhtml" >
        <ui:param name="bean" value="#{brandBean}"/> 
        <ui:param name="update" value="dlgBrandProc"/> 
        <ui:param name="btnNewId" value="#{brandBean.getRendered(298, 0)}"/> 
        <ui:param name="datatable" value="frmBrand:dtbBrand"/>
        <ui:param name="widgetvar" value='brandPF' />
        <ui:param name="form" value='frmToolbarBrand' />
    </ui:include>

    <!--  Marka tanımlarının beani ortak olduğu için gerekli bilgiler bean e parametre olarak gönderilir.
    Gerekli parametreler:
    itemId :Hangi marka yapılcaksa onun item id si
    model: Markanın modeli var mı yok mu bilgisi 0:yok 1:var
    modelyear: Markanın modelinin yılları var mı yok mu bilgisi 0:yok 1:var
    btnNew: artı butonunun id si yetki için
    btnSave: kaydet butonunun id si yetki için
    btnDelete: sil butonunun id si yetki için -->
    <c:set var="itemId" value="#{36}" scope="request" />
    <c:set var="btnRenderedNew" value="#{298}" scope="request" />
    <c:set var="btnRenderedSave" value="#{299}" scope="request" />
    <c:set var="btnRenderedDelete" value="#{300}" scope="request" />
    <ui:include src="/pages/general/common/branddatatable.xhtml">

    </ui:include>

    <!--Automation device Marka ekleme,günceleme,silme için açılan dialog-->
    <p:dialog id="dlgBrandProc" widgetVar="dlg_brandproc" resizable="false" width="30%" focus="dlgBrandProc" responsive="true" dynamic="true" modal="true" closeOnEscape="true">

        <h:form id="frmBrandProcess">
            <ui:include src="/pages/general/common/processtoolbar.xhtml" >
                <ui:param name="outputtext" value="#{loc.brandprocess}"/>
                <ui:param name="bean" value='#{brandBean}' />
                <ui:param name="update" value="pgrBrandProcess" />
                <ui:param name="btnSaveId" value="#{brandBean.getRendered(299, 0)}" />     
                <ui:param name="renderback" value='false'/>
                <ui:param name="btnDeleteId" value='false' />
                <ui:param name="dtbWidgetVar" value="brandPF" />
                <c:if test="#{brandBean.processType==2}">
                    <ui:param name="btnDeleteId" value="#{brandBean.getRendered(300, 0)}" />
                    <ui:param name="btnTestBeforeDeleteId" value="true" />
                </c:if>
            </ui:include>

            <ui:include src="vendingmachinebrandprocess.xhtml">
                <ui:param name="bean" value='#{brandBean}' />
            </ui:include>    
        </h:form>
    </p:dialog>

</ui:composition>
