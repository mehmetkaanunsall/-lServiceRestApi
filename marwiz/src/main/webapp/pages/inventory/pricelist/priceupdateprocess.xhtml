<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <div class="ContainerIndent">

        <ui:include src="/pages/general/common/datagridtoolbardefinition.xhtml" >
            <ui:param name="bean" value="#{priceUpdateBean}"/>
            <ui:param name="update" value="frmPriceUpdateDatatable"/> 
            <ui:param name="btnNewId" value="false"/>
            <ui:param name="datatable" value="tbvPriceList:frmPriceUpdateDatatable:dtbPriceUpdate" />
            <ui:param name="widgetvar" value='priceUpdatePF' />
            <ui:param name="form" value='frmPriceUpdate' />
            <ui:param name="fileName" value="#{loc.stocks}"/> 
            <ui:param name="renderedToggler" value='false'/>       
            <ui:param name="renderedExel" value='false'/>
            <ui:param name="renderedPdf" value='false'/>
            <ui:param name="renderedSave" value="true"/>
            <ui:param name="renderedProcessInfo" value="true"/>
            <ui:param name="tltpProcessInfo" value="#{loc.salespriceofselectedstockswillbemadeequaltorecommendedsaleprice}"/>
        </ui:include>


        <h:form id="frmPriceUpdateDatatable">
            <h:panelGroup>
                <p:separator style="margin-top: 0px !important; margin-bottom: 5px;" class="allCheckSeparator"/>
                <p:panelGrid layout="grid" columns="1" class="allCheckPanelGrid" style="border-radius: 0px !important; border-bottom: 0px !important;">  
                    <p:selectBooleanCheckbox  value="#{priceUpdateBean.isAll}" itemLabel="#{loc.all}" class="Fleft allcheck" style="margin-top: 2px; margin-left: 5px;">
                        <p:ajax global="false" update="tbvPriceList:frmPriceUpdateDatatable"  listener="#{priceUpdateBean.setIsAll()}" />
                    </p:selectBooleanCheckbox>
                </p:panelGrid>
            </h:panelGroup>
            <p:dataTable id="dtbPriceUpdate" var="priceListItem" value="#{priceUpdateBean.listOfObjects}" selection="#{priceUpdateBean.selectedStocks}" rowKey="#{priceListItem.stock.id}"
                         widgetVar="priceUpdatePF" filteredValue="#{priceUpdateBean.listOfFilteredObjects}" 
                         paginator="true" paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {CurrentPageReport}"
                         paginatorPosition="bottom" currentPageReportTemplate="{startRecord}-{endRecord} #{loc.intotal} {totalRecords}" rowsPerPageTemplate="#{sessionBean.user.gridSize}" rows="#{sessionBean.user.defualtGridSize}"
                         class="tabDatatable">

                <p:ajax event="rowSelectCheckbox" global="false"  listener="#{priceUpdateBean.onRowSelect}"  />
                <p:ajax event="rowUnselectCheckbox" global="false" />
                <p:ajax event="rowUnselect" global="false" />
                <p:ajax event="toggleSelect" global="false"  listener="#{priceUpdateBean.onToggleSelect}"   />

                <f:facet  name="footer"     >
                    <p:inputText id="globalFilter" value="#{priceUpdateBean.autoCompleteValue}"  style="display: none" />
                </f:facet>
                <p:column selectionMode="multiple" style="width:16px;text-align:center"/>

                <p:column id="clmStockCode" headerText="#{loc.stockcode}" sortBy="#{priceListItem.stock.centerProductCode}" sortable="true"  filterable="true"  filterBy="#{priceListItem.stock.centerProductCode}" filterMatchMode="contains" selectRow="false">
                    <f:facet name="filter">
                        <p:outputLabel   rendered="false" />
                    </f:facet>
                    <h:outputText  value="#{priceListItem.stock.centerProductCode}"/>
                </p:column>
                <p:column id="clmDealerStockCode" headerText="#{loc.dealerstockcode}" sortBy="#{priceListItem.stock.code}" sortable="true"  filterable="true"  filterBy="#{priceListItem.stock.code}" filterMatchMode="contains" selectRow="false">
                    <f:facet name="filter">
                        <p:outputLabel   rendered="false" />
                    </f:facet>
                    <h:outputText  value="#{priceListItem.stock.code}"/>
                </p:column>
                <p:column id="clmStockBarcode" headerText="#{loc.stockbarcode}" sortBy="#{priceListItem.stock.barcode}" sortable="true"  filterable="true"  filterBy="#{priceListItem.stock.barcode}" filterMatchMode="contains" selectRow="false">
                    <f:facet name="filter">
                        <p:outputLabel   rendered="false" />
                    </f:facet>
                    <h:outputText  value="#{priceListItem.stock.barcode}" />
                </p:column>
                <p:column id="clmStock" headerText="#{loc.stock}" sortBy="#{priceListItem.stock.name}" sortable="true"  filterable="true"  filterBy="#{priceListItem.stock.name}" filterMatchMode="contains" selectRow="false">
                    <f:facet name="filter">
                        <p:outputLabel   rendered="false" />
                    </f:facet>
                    <h:outputText value="#{priceListItem.stock.name}" />
                </p:column>
                <p:column id="clmRecommendedPrice" headerText="#{loc.recommendedsaleprice}" sortBy="#{priceListItem.stock.stockInfo.recommendedPrice}" sortable="true"  filterable="true"  filterBy="#{priceListItem.stock.stockInfo.recommendedPrice}" filterMatchMode="contains" selectRow="false">
                    <f:facet name="filter">
                        <p:outputLabel   rendered="false" />
                    </f:facet>
                    <h:outputText value="#{priceListItem.stock.stockInfo.recommendedPrice}" class="Fright">
                        <f:converter converterId="currencyConverter" />
                        <f:attribute name="currency" value="#{priceListItem.stock.stockInfo.currency}"/>
                        <f:attribute name="type" value="currency" />
                    </h:outputText>
                </p:column>
                <p:column id="clmPriceListPrice" headerText="#{loc.saleprice}" sortBy="#{priceListItem.price}" sortable="true"  filterable="true"  filterBy="#{priceListItem.price}" filterMatchMode="contains" selectRow="false">
                    <f:facet name="filter">
                        <p:outputLabel   rendered="false" />
                    </f:facet>
                    <h:outputText value="#{priceListItem.price}" class="Fright">
                        <f:converter converterId="currencyConverter" />
                        <f:attribute name="currency" value="#{priceListItem.currency}"/>
                        <f:attribute name="type" value="currency" />
                    </h:outputText>
                </p:column>
            </p:dataTable>
        </h:form>

    </div>

</ui:composition>