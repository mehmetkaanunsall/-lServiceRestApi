<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">


    <h:form id="frmDiscountCategoryProcess">
        <c:set var="categoryBookItemId" value="#{3}" scope="request" />
        <ui:include src="/pages/general/common/processtoolbar.xhtml" >
            <ui:param name="outputtext" value="#{loc.categoryprocesses}"/>
            <ui:param name="bean" value='#{discountAccountTabCategoryBean}' />
            <ui:param name="update" value="grdCategoryProcess " />
            <ui:param name="btnSaveId" value="#{discountAccountTabCategoryBean.selectedDiscount.centercampaign_id == 0 and discountAccountTabCategoryBean.getRendered(105, 0)}" />      
            <ui:param name="btnDeleteId" value="#{discountAccountTabCategoryBean.processType==2 and discountAccountTabCategoryBean.selectedDiscount.centercampaign_id == 0 and discountAccountTabCategoryBean.getRendered(106, 0)}" />
        </ui:include>
        <p:growl id="grwCategoryControl" showDetail="true" life="5000" globalOnly="true" />
        <h:panelGroup id="grdCategoryProcess" layout="block">

            <div class="ui-g-12 divContent">
                <div class="ui-g-12 ui-md-6  ui-lg-12">
                    <p:outputLabel value="#{loc.category}" for="txtCategory"  styleClass="Fs12 FontBold"/>
                    <p:inputText id="txtCategory" onclick="showBook()" value="#{discountAccountTabCategoryBean.selectedObject.accountCategorization.name}" class="inputPositionForBookFilter" required="true" readonly="#{facesContext.currentPhaseId.ordinal ge 4}"  placeholder="#{loc.category}" >
                    </p:inputText>     
                    <p:commandLink id="btnCategory" process="@this" update="frmCategoryBookFilter" class="commandLinkPositionForBookFilter" oncomplete="PF('olp_Category').loadContents();">
                        <i class="fa fa-book Fs16 iconPositionForBookFilter"></i>
                        <p:ajax   listener="#{categoryBookFilterBean.findFilterList([3],'frmCategoryBookFilter','olp_Category','discount')}" />
                    </p:commandLink>
                </div>
            </div>
        </h:panelGroup>
        <p:remoteCommand name="showBook" process="@this" update="frmCategoryBookFilter" oncomplete="PF('olp_Category').loadContents()" actionListener="#{categoryBookFilterBean.findFilterList([3],'frmCategoryBookFilter','olp_Category','discount')}" />
    </h:form>



    <p:overlayPanel id="olpCategory" widgetVar="olp_Category" showEvent="none" modal="true" transient="true" for="frmDiscountCategoryProcess:btnCategory"  my="right top" at="left bottom" dismissable="true" hideEffect="blind" showCloseIcon="true" class="Wid30">

        <ui:include src="/pages/general/common/categorybook.xhtml"> 

            <ui:param name="updateBean" value='#{discountAccountTabCategoryBean}' />
            <ui:param name="type" value='discount' />
        </ui:include>

    </p:overlayPanel>






</ui:composition>
