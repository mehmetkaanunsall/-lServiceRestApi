<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:form id="frmShiftGraphicProc" >
        <p:toolbar  id="ttttt">
            <f:facet name="left">
                <h:outputText value="#{loc.shiftno}:#{automatShiftReportBean.selectedObject.shiftNo}" class="outputTextFontTab Fleft" ></h:outputText>
            </f:facet>
            <f:facet name="right">
                <h:commandLink id="BtnPrint" title="#{loc.print}"   class="tlbrIcon"     >
                    <i class="icon-print tlbrAddBtn Fs20"  />
                    <p:printer target="frmShiftGraphicProc" /> 
                </h:commandLink>
            </f:facet>

        </p:toolbar>
        <div class="ui-g-12 divContent">
            <div class= "EmptyBox5"></div>
            <div class= "ui-g">
                <div class="ui-g-12 ui-md-6 ui-lg-6" >
                    <ui:include src="/pages/general/common/tabgridtoolbar.xhtml" >
                        <ui:param name="outputtext" value="#{loc.shiftsales}-#{loc.stocks}"/>
                        <ui:param name="bean" value='#{automatShiftReportBean}' />
                        <ui:param name="update"  value="frmShiftGraphicProc" />
                    </ui:include>

                    <p:dataTable id="dtbStock" class="dtbReport"   var="ShiftStock"  widgetVar="shiftstockPF" value="#{automatShiftReportBean.washingMachicneSaleStockList}" 
                                 rowKey="#{ShiftStock.id}" emptyMessage="#{loc.norecordsfound}"   resizableColumns="true"  >

                        <p:column id="clmStock" headerText="#{loc.stock}" >
                            <h:outputText value="#{ShiftStock.stock.id==0 ? loc.forgottenmoney : ShiftStock.stock.name}" />
                        </p:column>

                        <p:column id="clmliter" headerText="#{loc.liter}" >
                            <h:outputText value="#{ShiftStock.operationAmount}"  style="float: right;">
                                <f:converter converterId="currencyConverter"  />
                                <f:attribute name="unit"  value="#{ShiftStock.stock.unit}"/>
                                <f:attribute name="type" value="unit" />
                            </h:outputText>  
                        </p:column>
                        <p:column id="clmTotalprice" headerText="#{loc.totalprice}" >
                            <h:outputText value="#{ShiftStock.totalMoney}" style="float: right;" >
                                <f:converter converterId="currencyConverter"  />
                                <f:attribute name="currency"  value="#{sessionBean.user.lastBranch.currency}"/>
                                <f:attribute name="type" value="currency" />
                            </h:outputText>
                        </p:column>
                        <p:column  id="clmPercent" headerText="#{loc.percent}" >
                            <h:outputText value="%"/>
                            <h:outputText value="#{Double(ShiftStock.operationAmount*100)/automatShiftReportBean.stockPercent}" >
                                <f:convertNumber type="number" maxFractionDigits="2" pattern="#0.00"/>
                            </h:outputText> 
                        </p:column>
                    </p:dataTable>
                </div>

                <div class="ui-g-12 ui-md-6 ui-lg-6">
                    <ui:include src="/pages/general/common/tabgridtoolbar.xhtml" >
                        <ui:param name="outputtext" value="#{loc.shiftsales}-#{loc.platform}" />
                        <ui:param name="bean" value='#{automatShiftReportBean}' />
                        <ui:param name="update"  value="frmShiftGraphicProc" />
                    </ui:include>


                    <p:dataTable id="dtbPump" class="dtbReport"   var="ShiftPump" widgetVar="shiftpumpPF" value="#{automatShiftReportBean.washingMachicneSalePlatformList}" 
                                 rowStyleClass="#{ShiftPump.platformNo!=null ? '' : 'groupRow'}"   rowKey="#{ShiftPump.id}" emptyMessage="#{loc.norecordsfound}"  resizableColumns="true" >


                        <p:column id="clmpumpname" headerText="#{loc.washingmachicne } - #{loc.platform}" >
                            <h:outputText value="#{ShiftPump.platformNo!=null ? ShiftPump.washingMachine.name : loc.sum} - #{ShiftPump.platformNo!=null ? ShiftPump.platformNo : ''}" />
                        </p:column>
                        <p:column id="clmliter" headerText="#{loc.liter}" >
                            <h:outputText value="#{ShiftPump.operationAmount}"  style="float: right;">
                                <f:converter converterId="currencyConverter"  />
                                <f:attribute name="unit"  value="#{ShiftPump.stock.unit}"/>
                                <f:attribute name="type" value="unit" />
                            </h:outputText>  
                        </p:column>
                        <p:column id="clmTotalprice" headerText="#{loc.totalprice}" >
                            <h:outputText value="#{ShiftPump.totalMoney}" style="float: right;" >
                                <f:converter converterId="currencyConverter"  />
                                <f:attribute name="currency"  value="#{sessionBean.user.lastBranch.currency}"/>
                                <f:attribute name="type" value="currency" />
                            </h:outputText>
                        </p:column>
                        <p:column id="clmPercent" headerText="#{loc.percent}" >
                            <h:outputText value="%"/>
                            <h:outputText value="#{Double(ShiftPump.operationAmount*100)/automatShiftReportBean.platformPercent}" >
                                <f:convertNumber type="number" maxFractionDigits="2" pattern="#0.00"/>
                            </h:outputText>
                        </p:column>
                    </p:dataTable>
                </div>


                <div class="ui-g-12 ui-md-6 ui-lg-6">

                    <ui:include src="/pages/general/common/tabgridtoolbar.xhtml" >
                        <ui:param name="outputtext" value="#{loc.shiftsales}-#{loc.paymenttype}"/>
                        <ui:param name="bean" value='#{automatShiftReportBean}' />
                        <ui:param name="update"  value="frmShiftGraphicProc" />
                    </ui:include>


                    <p:dataTable id="dtbSaleType" class="dtbReport"  var="ShiftSaleType"  widgetVar="shiftsaletypePF" value="#{automatShiftReportBean.washingMachicneSalePaymentTypeList}" 
                                 rowKey="#{ShiftSaleType.paymentType}" emptyMessage="#{loc.norecordsfound}"   resizableColumns="true" >

                        <p:column id="clmSaleType" headerText="#{loc.paymenttype}" >
                            <h:outputText value="#{ShiftSaleType.paymentType==0 ? loc.cash : ShiftSaleType.paymentType==1 ? loc.mobilepayment : ShiftSaleType.paymentType==2? loc.barcode :   ShiftSaleType.paymentType==3? 'OPT' : ''}"  />
                        </p:column>

                        <p:column id="clmliter" headerText="#{loc.liter}" >
                            <h:outputText  value="#{ShiftSaleType.operationAmount}"  style="float: right;" >
                                <f:converter converterId="currencyConverter"  />
                                <f:attribute name="unit"  value="#{ShiftSaleType.stock.unit}"/>
                                <f:attribute name="type" value="unit" />
                            </h:outputText>  
                        </p:column>
                        <p:column id="clmTotalprice" headerText="#{loc.totalprice}  " >
                            <h:outputText value="#{ShiftSaleType.totalMoney}" style="float: right;" >
                                <f:converter converterId="currencyConverter"  />
                                <f:attribute name="currency"  value="#{sessionBean.user.lastBranch.currency}"/>
                                <f:attribute name="type" value="currency" />
                            </h:outputText>
                        </p:column>
                        <p:column id="clmPercent" headerText="#{loc.percent}" >
                            <h:outputText value="%"/>
                            <h:outputText value="#{Double(ShiftSaleType.operationAmount*100)/automatShiftReportBean.paymentTypePercent}" >
                                <f:convertNumber type="number" maxFractionDigits="2" pattern="#0.00"/>
                            </h:outputText>
                        </p:column>
                    </p:dataTable>

                </div>

            </div> 
        </div>

    </h:form>
    <h:form id="frmSaleGraphic2">
        <div class="ui-g-12 ui-md-6 ui-lg-6"   >
            <h:panelGroup id="pgrSaleTypeReportChart" rendered="#{!automatShiftReportBean.washingMachicneSaleStockList.isEmpty()}">
                <h:outputText value="#{loc.stocks}" />
                <p:chart type="pie"  model="#{automatShiftReportBean.pieChartModelStock}"  style="height:200px" responsive="true"/>
            </h:panelGroup>
        </div>

        <div class="ui-g-12 ui-md-6 ui-lg-6">
            <h:panelGroup id="pgrSaleTypeReportChart3" rendered="#{!automatShiftReportBean.washingMachicneSalePaymentTypeList.isEmpty()}">
                <h:outputText value="#{loc.paymenttype}" />
                <p:chart type="pie"  model="#{automatShiftReportBean.pieChartModelPaymentType}"  style="height:200px" responsive="true"/>
            </h:panelGroup>
        </div>



    </h:form>
    <style type="text/css" style="display: none">
        html {
            overflow: auto;
        }
        body {

            overflow-y: scroll;
            overflow-x: hidden;
        }

        /* Let's get this party started */
        ::-webkit-scrollbar {
            width: 12px;
        }

        /* Track */
        ::-webkit-scrollbar-track {
            -webkit-box-shadow: inset 0 0 6px gray; 
            -webkit-border-radius: 10px;
            border-radius: 10px;
        }

        /* Handle */
        ::-webkit-scrollbar-thumb {
            -webkit-border-radius: 10px;
            border-radius: 10px;
            background: gray; 
            -webkit-box-shadow: inset 0 0 6px gray; 
        }
        ::-webkit-scrollbar-thumb:window-inactive {
            background: gray; 
        }
    </style>
</ui:composition>
